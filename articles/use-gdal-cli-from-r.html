<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using 'gdal' CLI algorithms from R • gdalraster</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using 'gdal' CLI algorithms from R">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gdalraster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2.1.9016</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/raster-api-tutorial.html">Raster API Tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/raster-display.html">Raster Display</a></li>
    <li><a class="dropdown-item" href="../articles/raster-attribute-tables.html">Raster Attribute Tables</a></li>
    <li><a class="dropdown-item" href="../articles/gdal-block-cache.html">GDAL Block Cache</a></li>
    <li><a class="dropdown-item" href="../articles/vector-api-overview.html">Vector API Overview</a></li>
    <li><a class="dropdown-item" href="../articles/vector-read-benchmarks.html">Vector Read Benchmarks</a></li>
    <li><a class="dropdown-item" href="../articles/gdal-config-quick-ref.html">GDAL Config Quick Reference</a></li>
    <li><a class="dropdown-item" href="../articles/use-gdal-cli-from-r.html">Using 'gdal' CLI algorithms from R</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Archived articles</h6></li>
    <li><a class="dropdown-item" href="../articles/gdalvector-draft.html">Draft Bindings to the GDAL/OGR Vector API</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USDAForestService/gdalraster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Using 'gdal' CLI algorithms from R</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/USDAForestService/gdalraster/blob/main/vignettes/articles/use-gdal-cli-from-r.Rmd" class="external-link"><code>vignettes/articles/use-gdal-cli-from-r.Rmd</code></a></small>
      <div class="d-none name"><code>use-gdal-cli-from-r.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h2>
<p>GDAL 3.11 added a framework for a unified command line interface
(CLI) with a concept of algorithms that can be run on the command line,
or that can be automatically discovered and invoked programmatically.
The following resources provide information on the new CLI
framework:</p>
<ul>
<li>
<a href="https://download.osgeo.org/gdal/presentations/GDAL%20CLI%20Modernization.pdf" class="external-link">GDAL
CLI Modernization</a> (pdf slides), E. Rouault, H. Butler and D. Baston,
OSGeo webinar 03-June-25</li>
<li>
<a href="https://gdal.org/en/stable/development/rfc/rfc104_gdal_cli.html" class="external-link">RFC
104</a>: Adding a “gdal” front-end command line interface</li>
<li>GDAL programs: <a href="https://gdal.org/en/latest/programs/#gdal-application" class="external-link">“gdal”
application</a>
</li>
<li>cf. Python bindings: <a href="https://gdal.org/en/latest/programs/gdal_cli_from_python.html" class="external-link">How
to use “gdal” CLI algorithms from Python</a>
</li>
</ul>
<p><strong>gdalraster</strong> as of version 2.2.0 provides bindings
that enable access to GDAL CLI algorithms and the
<code>GDALAlgorithm</code> API from R.</p>
</div>
<div class="section level2">
<h2 id="development-status">Development status<a class="anchor" aria-label="anchor" href="#development-status"></a>
</h2>
<p>The GDAL project states that the new CLI framework</p>
<blockquote>
<p>“is provisionally provided as an alternative interface to GDAL and
OGR command line utilities. The project reserves the right to modify,
rename, reorganize, and change the behavior until it is officially
frozen via PSC vote in a future major GDAL release. The utility needs
time to mature, benefit from incremental feedback, and explore
enhancements without carrying the burden of full backward compatibility.
Your usage of it should have no expectation of compatibility until that
time.” (<a href="https://gdal.org/en/latest/programs/#gdal-application" class="external-link uri">https://gdal.org/en/latest/programs/#gdal-application</a>)</p>
</blockquote>
<p>The initial bindings in <strong>gdalraster</strong> 2.2.0 will evolve
over future releases. <em>The bindings are considered experimental until
the upstream API is declared stable</em>. Breaking changes in minor
version releases are possible until then. Please use with those cautions
in mind. Bug reports may be filed at: <a href="https://github.com/USDAForestService/gdalraster/issues" class="external-link uri">https://github.com/USDAForestService/gdalraster/issues</a>.</p>
</div>
<div class="section level2">
<h2 id="command-discovery-and-usage-info">Command discovery and usage info<a class="anchor" aria-label="anchor" href="#command-discovery-and-usage-info"></a>
</h2>
<p>The function <code><a href="../reference/gdal_cli.html">gdal_commands()</a></code> prints a list of available
commands to the console along with a short description and help URL for
each. A data frame containing the command strings, descriptions and URLs
is returned invisibly. By default, the full list of available commands
and their subcommands is returned. The optional argument
<code>recurse</code> can be set to <code>FALSE</code> to list only the
top-level commands without their subcommands.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://usdaforestservice.github.io/gdalraster/">gdalraster</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; GDAL 3.11.3 (released 2025-07-12), GEOS 3.12.2, PROJ 9.4.1</span></span>
<span></span>
<span><span class="co">## top-level commands</span></span>
<span><span class="fu"><a href="../reference/gdal_cli.html">gdal_commands</a></span><span class="op">(</span>recurse <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; convert:</span></span>
<span><span class="co">#&gt; Convert a dataset (shortcut for 'gdal raster convert' or 'gdal vector convert').</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_convert.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; driver:</span></span>
<span><span class="co">#&gt; Command for driver specific operations.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; info:</span></span>
<span><span class="co">#&gt; Return information on a dataset (shortcut for 'gdal raster info' or 'gdal vector info').</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_info.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mdim:</span></span>
<span><span class="co">#&gt; Multidimensional commands.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_mdim.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; pipeline:</span></span>
<span><span class="co">#&gt; Execute a pipeline (shortcut for 'gdal raster pipeline' or 'gdal vector pipeline').</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_pipeline.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster:</span></span>
<span><span class="co">#&gt; Raster commands.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; vector:</span></span>
<span><span class="co">#&gt; Vector commands.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_vector.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; vsi:</span></span>
<span><span class="co">#&gt; GDAL Virtual System Interface (VSI) commands.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_vsi.html</span></span></code></pre></div>
<p>A character string can also be given to filter for commands
containing specific text.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## list commands relevant to raster data</span></span>
<span><span class="fu"><a href="../reference/gdal_cli.html">gdal_commands</a></span><span class="op">(</span><span class="st">"raster"</span><span class="op">)</span></span>
<span><span class="co">#&gt; raster:</span></span>
<span><span class="co">#&gt; Raster commands.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster aspect:</span></span>
<span><span class="co">#&gt; Generate an aspect map</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_aspect.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster calc:</span></span>
<span><span class="co">#&gt; Perform raster algebra</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_calc.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster clean-collar:</span></span>
<span><span class="co">#&gt; Clean the collar of a raster dataset, removing noise.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_clean_collar.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster clip:</span></span>
<span><span class="co">#&gt; Clip a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_clip.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster color-map:</span></span>
<span><span class="co">#&gt; Generate a RGB or RGBA dataset from a single band, using a color map</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_color_map.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster contour:</span></span>
<span><span class="co">#&gt; Creates a vector contour from a raster elevation model (DEM).</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_contour.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster convert:</span></span>
<span><span class="co">#&gt; Convert a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_convert.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster create:</span></span>
<span><span class="co">#&gt; Create a new raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_create.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster edit:</span></span>
<span><span class="co">#&gt; Edit a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_edit.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster fill-nodata:</span></span>
<span><span class="co">#&gt; Fill nodata raster regions by interpolation from edges.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_fill_nodata.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster footprint:</span></span>
<span><span class="co">#&gt; Compute the footprint of a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_footprint.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster hillshade:</span></span>
<span><span class="co">#&gt; Generate a shaded relief map</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_hillshade.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster index:</span></span>
<span><span class="co">#&gt; Create a vector index of raster datasets.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_index.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster info:</span></span>
<span><span class="co">#&gt; Return information on a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_info.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster mosaic:</span></span>
<span><span class="co">#&gt; Build a mosaic, either virtual (VRT) or materialized.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_mosaic.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster overview:</span></span>
<span><span class="co">#&gt; Manage overviews of a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_overview.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster overview add:</span></span>
<span><span class="co">#&gt; Adding overviews.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_overview_add.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster overview delete:</span></span>
<span><span class="co">#&gt; Deleting overviews.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_overview_delete.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster pipeline:</span></span>
<span><span class="co">#&gt; Process a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_pipeline.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster pixel-info:</span></span>
<span><span class="co">#&gt; Return information on a pixel of a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_pixel_info.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster polygonize:</span></span>
<span><span class="co">#&gt; Create a polygon feature dataset from a raster band.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_polygonize.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster reclassify:</span></span>
<span><span class="co">#&gt; Reclassify values in a raster dataset</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_reclassify.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster reproject:</span></span>
<span><span class="co">#&gt; Reproject a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_reproject.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster resize:</span></span>
<span><span class="co">#&gt; Resize a raster dataset without changing the georeferenced extents.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_resize.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster roughness:</span></span>
<span><span class="co">#&gt; Generate a roughness map</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_roughness.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster scale:</span></span>
<span><span class="co">#&gt; Scale the values of the bands of a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_scale.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster select:</span></span>
<span><span class="co">#&gt; Select a subset of bands from a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_select.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster set-type:</span></span>
<span><span class="co">#&gt; Modify the data type of bands of a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_set_type.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster sieve:</span></span>
<span><span class="co">#&gt; Remove small polygons from a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_sieve.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster slope:</span></span>
<span><span class="co">#&gt; Generate a slope map</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_slope.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster stack:</span></span>
<span><span class="co">#&gt; Combine together input bands into a multi-band output, either virtual (VRT) or materialized.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_stack.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster tile:</span></span>
<span><span class="co">#&gt; Generate tiles in separate files from a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_tile.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster tpi:</span></span>
<span><span class="co">#&gt; Generate a Topographic Position Index (TPI) map</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_tpi.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster tri:</span></span>
<span><span class="co">#&gt; Generate a Terrain Ruggedness Index (TRI) map</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_tri.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster unscale:</span></span>
<span><span class="co">#&gt; Convert scaled values of a raster dataset into unscaled values.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_unscale.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; raster viewshed:</span></span>
<span><span class="co">#&gt; Compute the viewshed of a raster dataset.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_raster_viewshed.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; vector rasterize:</span></span>
<span><span class="co">#&gt; Burns vector geometries into a raster.</span></span>
<span><span class="co">#&gt; https://gdal.org/programs/gdal_vector_rasterize.html</span></span></code></pre></div>
<p>The function <code><a href="../reference/gdal_cli.html">gdal_usage()</a></code> prints a help message to the
console for a specific command.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gdal_cli.html">gdal_usage</a></span><span class="op">(</span><span class="st">"raster convert"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Usage: raster convert [OPTIONS] &lt;INPUT&gt; &lt;OUTPUT&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Convert a raster dataset. </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Positional arguments:</span></span>
<span><span class="co">#&gt;   -i, --input &lt;INPUT&gt;</span></span>
<span><span class="co">#&gt;     Input raster dataset</span></span>
<span><span class="co">#&gt;     [required]</span></span>
<span><span class="co">#&gt;   -o, --output &lt;OUTPUT&gt;</span></span>
<span><span class="co">#&gt;     Output raster dataset</span></span>
<span><span class="co">#&gt;     [created by algorithm]</span></span>
<span><span class="co">#&gt;     [required]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Options:</span></span>
<span><span class="co">#&gt;   -f, --of, --format, --output-format &lt;OUTPUT-FORMAT&gt;</span></span>
<span><span class="co">#&gt;     Output format</span></span>
<span><span class="co">#&gt;   --co, --creation-option &lt;KEY&gt;=&lt;VALUE&gt;</span></span>
<span><span class="co">#&gt;     Creation option</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   --overwrite</span></span>
<span><span class="co">#&gt;     Whether overwriting existing output is allowed</span></span>
<span><span class="co">#&gt;     [default: FALSE]</span></span>
<span><span class="co">#&gt;     [mutually exclusive with --append]</span></span>
<span><span class="co">#&gt;   --append</span></span>
<span><span class="co">#&gt;     Append as a subdataset to existing output</span></span>
<span><span class="co">#&gt;     [default: FALSE]</span></span>
<span><span class="co">#&gt;     [mutually exclusive with --overwrite]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Advanced options:</span></span>
<span><span class="co">#&gt;   --oo, --open-option &lt;KEY&gt;=&lt;VALUE&gt;</span></span>
<span><span class="co">#&gt;     Open options</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   --if, --input-format &lt;INPUT-FORMAT&gt;</span></span>
<span><span class="co">#&gt;     Input formats</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; For more details: https://gdal.org/programs/gdal_raster_convert.html</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="running-cli-algorithms">Running CLI algorithms<a class="anchor" aria-label="anchor" href="#running-cli-algorithms"></a>
</h2>
<p>A convenient way to access a CLI algorithm and run it is to use the
<code><a href="../reference/gdal_cli.html">gdal_run()</a></code> function. This function accepts a command
string, along with its argument values given in a character vector or
named list. It attempts to parse the algorithm arguments and then run
the algorithm on the given input data. The return value is an object of
class <a href="https://usdaforestservice.github.io/gdalraster/reference/GDALAlg-class.html"><code>GDALAlg</code></a>.
If you do not need to access output value(s) of the algorithm, you can
call <code><a href="../reference/gdal_cli.html">gdal_run()</a></code> without assigning its return value. More
commonly, the return value is assigned to a variable so that algorithm
output can be accessed via methods of the <code>GDALAlg</code>
object.</p>
<div class="section level3">
<h3 id="raster-examples">Raster examples<a class="anchor" aria-label="anchor" href="#raster-examples"></a>
</h3>
<div class="section level4">
<h4 id="raster-convert">raster convert<a class="anchor" aria-label="anchor" href="#raster-convert"></a>
</h4>
<p>In this example, the input and output datasets are given as
positional arguments which do not have to be named. They could instead
be given as named arguments if preferred for clarity.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## convert storml_elev.tif to GeoPackage raster</span></span>
<span><span class="va">f_tif</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/storml_elev.tif"</span>, package <span class="op">=</span> <span class="st">"gdalraster"</span><span class="op">)</span></span>
<span><span class="va">f_gpkg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"storml_elev.gpkg"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">args</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"--overwrite"</span>, <span class="va">f_tif</span>, <span class="va">f_gpkg</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">alg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gdal_cli.html">gdal_run</a></span><span class="op">(</span><span class="st">"raster convert"</span>, <span class="va">args</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; 0...10...20...30...40...50...60...70...80...90...100 - done.</span></span>
<span><span class="co">#&gt; C++ object of class GDALAlg</span></span>
<span><span class="co">#&gt;  Name        : convert</span></span>
<span><span class="co">#&gt;  Description : Convert a raster dataset.</span></span>
<span><span class="co">#&gt;  Help URL    : https://gdal.org/programs/gdal_raster_convert.html</span></span>
<span></span>
<span><span class="co"># obtain the output as a GDALRaster object</span></span>
<span><span class="op">(</span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="va">alg</span><span class="op">$</span><span class="fu">output</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; C++ object of class GDALRaster</span></span>
<span><span class="co">#&gt;  Driver : GeoPackage (GPKG)</span></span>
<span><span class="co">#&gt;  DSN    : /tmp/Rtmp1MQDgw/storml_elev.gpkg</span></span>
<span><span class="co">#&gt;  Dim    : 143, 107, 1</span></span>
<span><span class="co">#&gt;  CRS    : NAD83 / UTM zone 12N (EPSG:26912)</span></span>
<span><span class="co">#&gt;  Res    : 30.000000, 30.000000</span></span>
<span><span class="co">#&gt;  Bbox   : 323476.071971, 5101871.983031, 327766.071971, 5105081.983031</span></span>
<span></span>
<span><span class="va">alg</span><span class="op">$</span><span class="fu">release</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Note that the <code>release()</code> method of the
<code>GDALAlg</code> object was called after assigning its output raster
dataset to a variable. The <code>release()</code> method closes datasets
that were opened by the algorithm and releases resources. It is good
practice to release the algorithm after assigning the output, or
otherwise completing work with the <code>GDALAlg</code> object. However,
if <code>release()</code> is not called explicitly, the algorithm will
still be released when the object is garbage collected.</p>
</div>
<div class="section level4">
<h4 id="raster-hillshade">raster hillshade<a class="anchor" aria-label="anchor" href="#raster-hillshade"></a>
</h4>
<p>Input datasets for algorithms can be given either as text strings as
they would be in command-line usage (i.e., filename, URL, database
connection string, etc.), or as objects of class <code>GDALRaster</code>
or <code>GDALVector</code>. For object input, argument values must be
specified in <code>list</code> form. This example uses the output
elevation dataset from <code>"raster convert"</code> above to generate a
hillshade raster. The output of the <code>"raster hillshade"</code>
algorithm is specified as an in-memory dataset (MEM format) so the
required output filename can be given as empty string
(<code>""</code>).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gdal_cli.html">gdal_usage</a></span><span class="op">(</span><span class="st">"raster hillshade"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Usage: raster hillshade [OPTIONS] &lt;INPUT&gt; &lt;OUTPUT&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Generate a shaded relief map </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Positional arguments:</span></span>
<span><span class="co">#&gt;   -i, --input &lt;INPUT&gt;</span></span>
<span><span class="co">#&gt;     Input raster dataset</span></span>
<span><span class="co">#&gt;     [required]</span></span>
<span><span class="co">#&gt;   -o, --output &lt;OUTPUT&gt;</span></span>
<span><span class="co">#&gt;     Output raster dataset</span></span>
<span><span class="co">#&gt;     [required]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Options:</span></span>
<span><span class="co">#&gt;   -f, --of, --format, --output-format &lt;OUTPUT-FORMAT&gt;</span></span>
<span><span class="co">#&gt;     Output format ("GDALG" allowed)</span></span>
<span><span class="co">#&gt;   --co, --creation-option &lt;KEY&gt;=&lt;VALUE&gt;</span></span>
<span><span class="co">#&gt;     Creation option</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   --overwrite</span></span>
<span><span class="co">#&gt;     Whether overwriting existing output is allowed</span></span>
<span><span class="co">#&gt;     [default: FALSE]</span></span>
<span><span class="co">#&gt;   -b, --band &lt;BAND&gt;</span></span>
<span><span class="co">#&gt;     Input band (1-based index)</span></span>
<span><span class="co">#&gt;     [default: 1]</span></span>
<span><span class="co">#&gt;   -z, --zfactor &lt;ZFACTOR&gt;</span></span>
<span><span class="co">#&gt;     Vertical exaggeration used to pre-multiply the elevations</span></span>
<span><span class="co">#&gt;   --xscale &lt;XSCALE&gt;</span></span>
<span><span class="co">#&gt;     Ratio of vertical units to horizontal X axis units</span></span>
<span><span class="co">#&gt;   --yscale &lt;YSCALE&gt;</span></span>
<span><span class="co">#&gt;     Ratio of vertical units to horizontal Y axis units</span></span>
<span><span class="co">#&gt;   --azimuth &lt;AZIMUTH&gt;</span></span>
<span><span class="co">#&gt;     Azimuth of the light, in degrees</span></span>
<span><span class="co">#&gt;     [default: 315]</span></span>
<span><span class="co">#&gt;   --altitude &lt;ALTITUDE&gt;</span></span>
<span><span class="co">#&gt;     Altitude of the light, in degrees</span></span>
<span><span class="co">#&gt;     [default: 45]</span></span>
<span><span class="co">#&gt;   --gradient-alg &lt;GRADIENT-ALG&gt;</span></span>
<span><span class="co">#&gt;     Algorithm used to compute terrain gradient</span></span>
<span><span class="co">#&gt;     [Horn|ZevenbergenThorne]</span></span>
<span><span class="co">#&gt;     [default: Horn]</span></span>
<span><span class="co">#&gt;   --variant &lt;VARIANT&gt;</span></span>
<span><span class="co">#&gt;     Variant of the hillshading algorithm</span></span>
<span><span class="co">#&gt;     [regular|combined|multidirectional|Igor]</span></span>
<span><span class="co">#&gt;     [default: regular]</span></span>
<span><span class="co">#&gt;   --no-edges</span></span>
<span><span class="co">#&gt;     Do not try to interpolate values at dataset edges or close to nodata values</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Advanced options:</span></span>
<span><span class="co">#&gt;   --if, --input-format &lt;INPUT-FORMAT&gt;</span></span>
<span><span class="co">#&gt;     Input formats</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   --oo, --open-option &lt;KEY&gt;=&lt;VALUE&gt;</span></span>
<span><span class="co">#&gt;     Open options</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; For more details: https://gdal.org/programs/gdal_raster_hillshade.html</span></span>
<span></span>
<span><span class="co"># input as a GDALRaster object and output to an in-memory raster</span></span>
<span><span class="va">args</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">ds</span>,</span>
<span>             output_format <span class="op">=</span> <span class="st">"MEM"</span>,</span>
<span>             output <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span></span>
<span><span class="va">alg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gdal_cli.html">gdal_run</a></span><span class="op">(</span><span class="st">"raster hillshade"</span>, <span class="va">args</span><span class="op">)</span></span>
<span><span class="co">#&gt; 0...10...20...30...40...50...60...70...80...90...100 - done.</span></span>
<span></span>
<span><span class="op">(</span><span class="va">ds_hillshade</span> <span class="op">&lt;-</span> <span class="va">alg</span><span class="op">$</span><span class="fu">output</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; C++ object of class GDALRaster</span></span>
<span><span class="co">#&gt;  Driver : In Memory raster, vector and multidimensional raster (MEM)</span></span>
<span><span class="co">#&gt;  DSN    : </span></span>
<span><span class="co">#&gt;  Dim    : 143, 107, 1</span></span>
<span><span class="co">#&gt;  CRS    : NAD83 / UTM zone 12N (EPSG:26912)</span></span>
<span><span class="co">#&gt;  Res    : 30.000000, 30.000000</span></span>
<span><span class="co">#&gt;  Bbox   : 323476.071971, 5101871.983031, 327766.071971, 5105081.983031</span></span>
<span></span>
<span><span class="va">alg</span><span class="op">$</span><span class="fu">release</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_raster.html">plot_raster</a></span><span class="op">(</span><span class="va">ds_hillshade</span>, main <span class="op">=</span> <span class="st">"Storm Lake AOI shaded relief"</span><span class="op">)</span></span></code></pre></div>
<p><img src="img/storml_hillshade.png" alt="A plot of the hillshade raster, a shaded relief map, for the Storm Lake area of interest." width="75%"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># clean up</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds_hillshade</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">f_gpkg</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="vector-examples">Vector examples<a class="anchor" aria-label="anchor" href="#vector-examples"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gdal_cli.html">gdal_usage</a></span><span class="op">(</span><span class="st">"vector"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Usage: vector &lt;SUBCOMMAND&gt; [OPTIONS]</span></span>
<span><span class="co">#&gt; where &lt;SUBCOMMAND&gt; is one of:</span></span>
<span><span class="co">#&gt;   - clip      : Clip a vector dataset.</span></span>
<span><span class="co">#&gt;   - concat    : Concatenate vector datasets.</span></span>
<span><span class="co">#&gt;   - convert   : Convert a vector dataset.</span></span>
<span><span class="co">#&gt;   - edit      : Edit metadata of a vector dataset.</span></span>
<span><span class="co">#&gt;   - filter    : Filter a vector dataset.</span></span>
<span><span class="co">#&gt;   - geom      : Geometry operations on a vector dataset.</span></span>
<span><span class="co">#&gt;   - grid      : Create a regular grid from scattered points.</span></span>
<span><span class="co">#&gt;   - info      : Return information on a vector dataset.</span></span>
<span><span class="co">#&gt;   - pipeline  : Process a vector dataset.</span></span>
<span><span class="co">#&gt;   - rasterize : Burns vector geometries into a raster.</span></span>
<span><span class="co">#&gt;   - reproject : Reproject a vector dataset.</span></span>
<span><span class="co">#&gt;   - select    : Select a subset of fields from a vector dataset.</span></span>
<span><span class="co">#&gt;   - sql       : Apply SQL statement(s) to a dataset.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Options:</span></span>
<span><span class="co">#&gt;   --drivers</span></span>
<span><span class="co">#&gt;     Display vector driver list as JSON document and exit</span></span>
<span><span class="co">#&gt;   --output-string &lt;OUTPUT-STRING&gt;</span></span>
<span><span class="co">#&gt;     Output string, in which the result is placed</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; For more details: https://gdal.org/programs/gdal_vector.html</span></span></code></pre></div>
<div class="section level4">
<h4 id="vector-clip">vector clip<a class="anchor" aria-label="anchor" href="#vector-clip"></a>
</h4>
<p>Clip a vector layer by a bounding box.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gdal_cli.html">gdal_usage</a></span><span class="op">(</span><span class="st">"vector clip"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Usage: vector clip [OPTIONS] &lt;INPUT&gt; &lt;OUTPUT&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Clip a vector dataset. </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Positional arguments:</span></span>
<span><span class="co">#&gt;   -i, --input &lt;INPUT&gt;</span></span>
<span><span class="co">#&gt;     Input vector datasets</span></span>
<span><span class="co">#&gt;     [required]</span></span>
<span><span class="co">#&gt;   -o, --output &lt;OUTPUT&gt;</span></span>
<span><span class="co">#&gt;     Output vector dataset</span></span>
<span><span class="co">#&gt;     [required]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Options:</span></span>
<span><span class="co">#&gt;   -l, --layer, --input-layer &lt;INPUT-LAYER&gt;</span></span>
<span><span class="co">#&gt;     Input layer name(s)</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   -f, --of, --format, --output-format &lt;OUTPUT-FORMAT&gt;</span></span>
<span><span class="co">#&gt;     Output format ("GDALG" allowed)</span></span>
<span><span class="co">#&gt;   --co, --creation-option &lt;KEY&gt;=&lt;VALUE&gt;</span></span>
<span><span class="co">#&gt;     Creation option</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   --lco, --layer-creation-option &lt;KEY&gt;=&lt;VALUE&gt;</span></span>
<span><span class="co">#&gt;     Layer creation option</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   --overwrite</span></span>
<span><span class="co">#&gt;     Whether overwriting existing output is allowed</span></span>
<span><span class="co">#&gt;     [default: FALSE]</span></span>
<span><span class="co">#&gt;   --update</span></span>
<span><span class="co">#&gt;     Whether to open existing dataset in update mode</span></span>
<span><span class="co">#&gt;     [default: FALSE]</span></span>
<span><span class="co">#&gt;   --overwrite-layer</span></span>
<span><span class="co">#&gt;     Whether overwriting existing layer is allowed</span></span>
<span><span class="co">#&gt;     [default: FALSE]</span></span>
<span><span class="co">#&gt;   --append</span></span>
<span><span class="co">#&gt;     Whether appending to existing layer is allowed</span></span>
<span><span class="co">#&gt;     [default: FALSE]</span></span>
<span><span class="co">#&gt;   --output-layer &lt;OUTPUT-LAYER&gt;</span></span>
<span><span class="co">#&gt;     Output layer name</span></span>
<span><span class="co">#&gt;   --active-layer &lt;ACTIVE-LAYER&gt;</span></span>
<span><span class="co">#&gt;     Set active layer (if not specified, all)</span></span>
<span><span class="co">#&gt;   --bbox &lt;BBOX&gt;</span></span>
<span><span class="co">#&gt;     Clipping bounding box as xmin,ymin,xmax,ymax</span></span>
<span><span class="co">#&gt;     [4 values]</span></span>
<span><span class="co">#&gt;     [mutually exclusive with --geometry, --like]</span></span>
<span><span class="co">#&gt;   --bbox-crs &lt;BBOX-CRS&gt;</span></span>
<span><span class="co">#&gt;     CRS of clipping bounding box</span></span>
<span><span class="co">#&gt;   --geometry &lt;GEOMETRY&gt;</span></span>
<span><span class="co">#&gt;     Clipping geometry (WKT or GeoJSON)</span></span>
<span><span class="co">#&gt;     [mutually exclusive with --bbox, --like]</span></span>
<span><span class="co">#&gt;   --geometry-crs &lt;GEOMETRY-CRS&gt;</span></span>
<span><span class="co">#&gt;     CRS of clipping geometry</span></span>
<span><span class="co">#&gt;   --like &lt;DATASET&gt;</span></span>
<span><span class="co">#&gt;     Dataset to use as a template for bounds</span></span>
<span><span class="co">#&gt;     [mutually exclusive with --bbox, --geometry]</span></span>
<span><span class="co">#&gt;   --like-sql &lt;SELECT-STATEMENT&gt;</span></span>
<span><span class="co">#&gt;     SELECT statement to run on the 'like' dataset</span></span>
<span><span class="co">#&gt;     [mutually exclusive with --like-where]</span></span>
<span><span class="co">#&gt;   --like-layer &lt;LAYER-NAME&gt;</span></span>
<span><span class="co">#&gt;     Name of the layer of the 'like' dataset</span></span>
<span><span class="co">#&gt;   --like-where &lt;WHERE-EXPRESSION&gt;</span></span>
<span><span class="co">#&gt;     WHERE SQL clause to run on the 'like' dataset</span></span>
<span><span class="co">#&gt;     [mutually exclusive with --like-sql]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Advanced options:</span></span>
<span><span class="co">#&gt;   --if, --input-format &lt;INPUT-FORMAT&gt;</span></span>
<span><span class="co">#&gt;     Input formats</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   --oo, --open-option &lt;KEY&gt;=&lt;VALUE&gt;</span></span>
<span><span class="co">#&gt;     Open options</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; For more details: https://gdal.org/programs/gdal_vector_clip.html</span></span>
<span></span>
<span><span class="va">dsn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ynp_fires_1984_2022.gpkg"</span>, package <span class="op">=</span> <span class="st">"gdalraster"</span><span class="op">)</span></span>
<span><span class="va">dsn_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"ynp_fires_clip.gpkg"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">469686</span>, <span class="fl">11442</span>, <span class="fl">544070</span>, <span class="fl">85508</span><span class="op">)</span></span>
<span></span>
<span><span class="va">args</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>bbox <span class="op">=</span> <span class="va">bb</span>,</span>
<span>             input <span class="op">=</span> <span class="va">dsn</span>,</span>
<span>             output <span class="op">=</span> <span class="va">dsn_out</span>,</span>
<span>             overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>             </span>
<span><span class="va">alg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gdal_cli.html">gdal_run</a></span><span class="op">(</span><span class="st">"vector clip"</span>, <span class="va">args</span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">lyr</span> <span class="op">&lt;-</span> <span class="va">alg</span><span class="op">$</span><span class="fu">output</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; C++ object of class GDALVector</span></span>
<span><span class="co">#&gt;  Driver : GeoPackage (GPKG)</span></span>
<span><span class="co">#&gt;  DSN    : /tmp/Rtmp6F8oeQ/ynp_fires_clip.gpkg</span></span>
<span><span class="co">#&gt;  Layer  : mtbs_perims</span></span>
<span><span class="co">#&gt;  CRS    : NAD83 / Montana (EPSG:32100)</span></span>
<span><span class="co">#&gt;  Geom   : MULTIPOLYGON</span></span>
<span></span>
<span><span class="va">lyr</span><span class="op">$</span><span class="fu">bbox</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 469686  11442 544070  85508</span></span>
<span></span>
<span><span class="va">lyr</span><span class="op">$</span><span class="fu">getFeatureCount</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 40</span></span>
<span></span>
<span><span class="co"># clean up</span></span>
<span><span class="va">lyr</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">alg</span><span class="op">$</span><span class="fu">release</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">dsn_out</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="vector-rasterize">vector rasterize<a class="anchor" aria-label="anchor" href="#vector-rasterize"></a>
</h4>
<p>Rasterize a vector layer given as a <code>GDALVector</code>
object.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gdal_cli.html">gdal_usage</a></span><span class="op">(</span><span class="st">"vector rasterize"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Usage: vector rasterize [OPTIONS] &lt;INPUT&gt; &lt;OUTPUT&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Burns vector geometries into a raster. </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Positional arguments:</span></span>
<span><span class="co">#&gt;   -i, --input &lt;INPUT&gt;</span></span>
<span><span class="co">#&gt;     Input vector dataset</span></span>
<span><span class="co">#&gt;     [required]</span></span>
<span><span class="co">#&gt;   -o, --output &lt;OUTPUT&gt;</span></span>
<span><span class="co">#&gt;     Output raster dataset</span></span>
<span><span class="co">#&gt;     [required]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Options:</span></span>
<span><span class="co">#&gt;   -f, --of, --format, --output-format &lt;OUTPUT-FORMAT&gt;</span></span>
<span><span class="co">#&gt;     Output format</span></span>
<span><span class="co">#&gt;   --co, --creation-option &lt;KEY&gt;=&lt;VALUE&gt;</span></span>
<span><span class="co">#&gt;     Creation option</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   -b, --band &lt;BAND&gt;</span></span>
<span><span class="co">#&gt;     The band(s) to burn values into (1-based index)</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   --invert</span></span>
<span><span class="co">#&gt;     Invert the rasterization</span></span>
<span><span class="co">#&gt;     [default: FALSE]</span></span>
<span><span class="co">#&gt;   --all-touched</span></span>
<span><span class="co">#&gt;     Enables the ALL_TOUCHED rasterization option</span></span>
<span><span class="co">#&gt;   --burn &lt;BURN&gt;</span></span>
<span><span class="co">#&gt;     Burn value</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   -a, --attribute-name &lt;ATTRIBUTE-NAME&gt;</span></span>
<span><span class="co">#&gt;     Attribute name</span></span>
<span><span class="co">#&gt;   --3d</span></span>
<span><span class="co">#&gt;     Indicates that a burn value should be extracted from the Z values of the feature</span></span>
<span><span class="co">#&gt;   --add</span></span>
<span><span class="co">#&gt;     Add to existing raster</span></span>
<span><span class="co">#&gt;     [default: FALSE]</span></span>
<span><span class="co">#&gt;   -l, --layer, --layer-name &lt;LAYER-NAME&gt;</span></span>
<span><span class="co">#&gt;     Layer name</span></span>
<span><span class="co">#&gt;     [mutually exclusive with --sql]</span></span>
<span><span class="co">#&gt;   --where &lt;WHERE&gt;</span></span>
<span><span class="co">#&gt;     SQL where clause</span></span>
<span><span class="co">#&gt;   --sql &lt;SQL&gt;</span></span>
<span><span class="co">#&gt;     SQL select statement</span></span>
<span><span class="co">#&gt;     [mutually exclusive with --layer-name]</span></span>
<span><span class="co">#&gt;   --dialect &lt;DIALECT&gt;</span></span>
<span><span class="co">#&gt;     SQL dialect</span></span>
<span><span class="co">#&gt;   --nodata &lt;NODATA&gt;</span></span>
<span><span class="co">#&gt;     Assign a specified nodata value to output bands</span></span>
<span><span class="co">#&gt;   --init &lt;INIT&gt;</span></span>
<span><span class="co">#&gt;     Pre-initialize output bands with specified value</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   --crs &lt;CRS&gt;</span></span>
<span><span class="co">#&gt;     Override the projection for the output file</span></span>
<span><span class="co">#&gt;   --transformer-option &lt;NAME&gt;=&lt;VALUE&gt;</span></span>
<span><span class="co">#&gt;     Set a transformer option suitable to pass to GDALCreateGenImgProjTransformer2</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   --extent &lt;xmin&gt;,&lt;ymin&gt;,&lt;xmax&gt;,&lt;ymax&gt;</span></span>
<span><span class="co">#&gt;     Set the target georeferenced extent</span></span>
<span><span class="co">#&gt;     [4 values]</span></span>
<span><span class="co">#&gt;   --resolution &lt;xres&gt;,&lt;yres&gt;</span></span>
<span><span class="co">#&gt;     Set the target resolution</span></span>
<span><span class="co">#&gt;     [2 values]</span></span>
<span><span class="co">#&gt;     [mutually exclusive with --size]</span></span>
<span><span class="co">#&gt;   --tap, --target-aligned-pixels</span></span>
<span><span class="co">#&gt;     (target aligned pixels) Align the coordinates of the extent of the output file to the values of the resolution</span></span>
<span><span class="co">#&gt;   --size &lt;xsize&gt;,&lt;ysize&gt;</span></span>
<span><span class="co">#&gt;     Set the target size in pixels and lines</span></span>
<span><span class="co">#&gt;     [2 values]</span></span>
<span><span class="co">#&gt;     [mutually exclusive with --resolution]</span></span>
<span><span class="co">#&gt;   --ot, --datatype, --output-data-type &lt;OUTPUT-DATA-TYPE&gt;</span></span>
<span><span class="co">#&gt;     Output data type</span></span>
<span><span class="co">#&gt;     [Byte|Int8|UInt16|Int16|UInt32|Int32|UInt64|Int64|CInt16|CInt32|Float16|Float32|Float64|CFloat32|CFloat64]</span></span>
<span><span class="co">#&gt;   --optimization &lt;OPTIMIZATION&gt;</span></span>
<span><span class="co">#&gt;     Force the algorithm used (results are identical)</span></span>
<span><span class="co">#&gt;     [AUTO|RASTER|VECTOR]</span></span>
<span><span class="co">#&gt;     [default: AUTO]</span></span>
<span><span class="co">#&gt;   --update</span></span>
<span><span class="co">#&gt;     Whether to open existing dataset in update mode</span></span>
<span><span class="co">#&gt;     [default: FALSE]</span></span>
<span><span class="co">#&gt;   --overwrite</span></span>
<span><span class="co">#&gt;     Whether overwriting existing output is allowed</span></span>
<span><span class="co">#&gt;     [default: FALSE]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Advanced options:</span></span>
<span><span class="co">#&gt;   --oo, --open-option &lt;KEY&gt;=&lt;VALUE&gt;</span></span>
<span><span class="co">#&gt;     Open options</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt;   --if, --input-format &lt;INPUT-FORMAT&gt;</span></span>
<span><span class="co">#&gt;     Input formats</span></span>
<span><span class="co">#&gt;     [may be repeated]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; For more details: https://gdal.org/programs/gdal_vector_rasterize.html</span></span>
<span></span>
<span><span class="va">dsn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ynp_fires_1984_2022.gpkg"</span>, package <span class="op">=</span> <span class="st">"gdalraster"</span><span class="op">)</span></span>
<span><span class="va">sql</span> <span class="op">&lt;-</span> <span class="st">"SELECT incid_name, ig_year, geom FROM mtbs_perims ORDER BY ig_year"</span></span>
<span><span class="op">(</span><span class="va">lyr</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALVector</span>, <span class="va">dsn</span>, <span class="va">sql</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; C++ object of class GDALVector</span></span>
<span><span class="co">#&gt;  Driver : GeoPackage (GPKG)</span></span>
<span><span class="co">#&gt;  DSN    : /usr/local/lib/R/site-library/gdalraster/extdata/ynp_fires_1984_2022.gpkg</span></span>
<span><span class="co">#&gt;  Layer  : SELECT incid_name, ig_year, geom FROM mtbs_perims ORDER BY ig_year</span></span>
<span><span class="co">#&gt;  CRS    : NAD83 / Montana (EPSG:32100)</span></span>
<span><span class="co">#&gt;  Geom   : MULTIPOLYGON</span></span>
<span></span>
<span><span class="va">f_out</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"ynp_fire_year.tif"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># note that the "sql" argument is obtained from the input GDALVector object</span></span>
<span><span class="va">args</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">lyr</span>,</span>
<span>             attribute_name <span class="op">=</span> <span class="st">"ig_year"</span>,</span>
<span>             output <span class="op">=</span> <span class="va">f_out</span>,</span>
<span>             overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>             creation_option <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TILED=YES"</span>, <span class="st">"COMPRESS=DEFLATE"</span><span class="op">)</span>,</span>
<span>             resolution <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">90</span>, <span class="fl">90</span><span class="op">)</span>,</span>
<span>             output_data_type <span class="op">=</span> <span class="st">"Int16"</span>,</span>
<span>             init <span class="op">=</span> <span class="op">-</span><span class="fl">32767</span>,</span>
<span>             nodata <span class="op">=</span> <span class="op">-</span><span class="fl">32767</span><span class="op">)</span></span>
<span></span>
<span><span class="va">alg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gdal_cli.html">gdal_run</a></span><span class="op">(</span><span class="st">"vector rasterize"</span>, <span class="va">args</span><span class="op">)</span></span>
<span><span class="co">#&gt; 0...10...20...30...40...50...60...70...80...90...100 - done.</span></span>
<span></span>
<span><span class="op">(</span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="va">alg</span><span class="op">$</span><span class="fu">output</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; C++ object of class GDALRaster</span></span>
<span><span class="co">#&gt;  Driver : GeoTIFF (GTiff)</span></span>
<span><span class="co">#&gt;  DSN    : /tmp/Rtmp3vFo18/ynp_fire_year.tif</span></span>
<span><span class="co">#&gt;  Dim    : 1155, 1218, 1</span></span>
<span><span class="co">#&gt;  CRS    : NAD83 / Montana (EPSG:32100)</span></span>
<span><span class="co">#&gt;  Res    : 90.000000, 90.000000</span></span>
<span><span class="co">#&gt;  Bbox   : 469640.726682, -12997.663642, 573590.726682, 96622.336358</span></span>
<span></span>
<span><span class="va">alg</span><span class="op">$</span><span class="fu">release</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pal</span> <span class="op">&lt;-</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_viridis.html" class="external-link">viridis_pal</a></span><span class="op">(</span>end <span class="op">=</span> <span class="fl">0.8</span>, direction <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span></span>
<span><span class="va">ramp</span> <span class="op">&lt;-</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/colour_ramp.html" class="external-link">colour_ramp</a></span><span class="op">(</span><span class="va">pal</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot_raster.html">plot_raster</a></span><span class="op">(</span><span class="va">ds</span>, legend <span class="op">=</span> <span class="cn">TRUE</span>, col_map_fn <span class="op">=</span> <span class="va">ramp</span>, na_col <span class="op">=</span> <span class="st">"#d9d9d9"</span>,</span>
<span>            main <span class="op">=</span> <span class="st">"YNP Fires 1984-2022 - Most Recent Burn Year"</span><span class="op">)</span></span></code></pre></div>
<p><img src="img/ynp_fire_year.png" alt="A plot of fire perimeters in Yellowstone National Park during 1984 through 2022. A color ramp is used to indicate the burn year as depicted in a legend on the right-hand side of the plot. The most recent burn year is shown in cases where fire perimeters overlap." width="75%"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lyr</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/deleteDataset.html">deleteDataset</a></span><span class="op">(</span><span class="va">f_out</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<p><strong>gdalraster</strong> documentation:</p>
<ul>
<li>Functions for using “gdal” CLI algorithms
(<code><a href="../reference/gdal_cli.html">?gdal_cli</a></code>)</li>
<li>Class <code>GDALAlg</code> (<code><a href="../reference/GDALAlg-class.html">?GDALAlg</a></code>)</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/ctoney" class="external-link">Chris Toney</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
