<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Class wrapping the GDAL VSIVirtualHandle API for binary file I/O — VSIFile-class • gdalraster</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Class wrapping the GDAL VSIVirtualHandle API for binary file I/O — VSIFile-class"><meta name="description" content='VSIFile provides bindings to the GDAL VSIVirtualHandle API. Encapsulates a
VSIVirtualHandle
(https://gdal.org/en/stable/api/cpl_cpp.html#_CPPv416VSIVirtualHandle).
This API abstracts binary file I/O across "regular" file systems, URLs,
cloud storage services, Zip/GZip/7z/RAR, and in-memory files.
It provides analogs of several Standard C file I/O functions, allowing
virtualization of disk I/O so that non-file data sources can be made to
appear as files.'><meta property="og:description" content='VSIFile provides bindings to the GDAL VSIVirtualHandle API. Encapsulates a
VSIVirtualHandle
(https://gdal.org/en/stable/api/cpl_cpp.html#_CPPv416VSIVirtualHandle).
This API abstracts binary file I/O across "regular" file systems, URLs,
cloud storage services, Zip/GZip/7z/RAR, and in-memory files.
It provides analogs of several Standard C file I/O functions, allowing
virtualization of disk I/O so that non-file data sources can be made to
appear as files.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gdalraster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.12.0.9100</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/gdal-block-cache.html">GDAL Block Cache</a></li>
    <li><a class="dropdown-item" href="../articles/gdal-config-quick-ref.html">GDAL Config Quick Reference</a></li>
    <li><a class="dropdown-item" href="../articles/gdalvector-draft.html">Draft Bindings to the GDAL/OGR Vector API</a></li>
    <li><a class="dropdown-item" href="../articles/raster-api-tutorial.html">Raster API Tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/raster-attribute-tables.html">Raster Attribute Tables</a></li>
    <li><a class="dropdown-item" href="../articles/raster-display.html">Raster Display</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USDAForestService/gdalraster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Class wrapping the GDAL VSIVirtualHandle API for binary file I/O</h1>
      <small class="dont-index">Source: <a href="https://github.com/USDAForestService/gdalraster/blob/main/R/vsifile.R" class="external-link"><code>R/vsifile.R</code></a></small>
      <div class="d-none name"><code>VSIFile-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>VSIFile</code> provides bindings to the GDAL VSIVirtualHandle API. Encapsulates a
<code>VSIVirtualHandle</code>
(<a href="https://gdal.org/en/stable/api/cpl_cpp.html#_CPPv416VSIVirtualHandle" class="external-link">https://gdal.org/en/stable/api/cpl_cpp.html#_CPPv416VSIVirtualHandle</a>).
This API abstracts binary file I/O across "regular" file systems, URLs,
cloud storage services, Zip/GZip/7z/RAR, and in-memory files.
It provides analogs of several Standard C file I/O functions, allowing
virtualization of disk I/O so that non-file data sources can be made to
appear as files.</p>
    </div>


    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>Character string containing the filename to open. It may be
a file in a regular local filesystem, or a filename with a GDAL /vsiPREFIX/
(see <a href="https://gdal.org/en/stable/user/virtual_file_systems.html" class="external-link">https://gdal.org/en/stable/user/virtual_file_systems.html</a>).</p></dd>


<dt id="arg-access">access<a class="anchor" aria-label="anchor" href="#arg-access"></a></dt>
<dd><p>Character string containing the access requested (i.e., <code>"r"</code>,
<code>"r+"</code>, <code>"w"</code>, <code>"w+</code>). Defaults to <code>"r"</code>. Binary access is always implied
and the "b" does not need to be included in <code>access</code>.</p><table class="table table"><tr><td><strong>Access</strong></td><td><strong>Explanation</strong></td><td><strong>If file exists</strong></td></tr><tr><td><code>"r"</code></td><td>open file for reading</td><td>read from start</td></tr><tr><td><code>"r+"</code></td><td>open file for read/write</td><td>read from start</td></tr><tr><td><code>"w"</code></td><td>create file for writing</td><td>destroy contents</td></tr><tr><td><code>"w+"</code></td><td>create file for read/write</td><td>destroy contents</td></tr></table></dd>


<dt id="arg-options">options<a class="anchor" aria-label="anchor" href="#arg-options"></a></dt>
<dd><p>Optional character vector of <code>NAME=VALUE</code> pairs specifying
filesystem-dependent options (GDAL &gt;= 3.3, see Details).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>VSIFile</code> which contains a pointer to a
<code>VSIVirtualHandle</code>, and methods that operate on the file as described in
Details. <code>VSIFile</code> is a C++ class exposed directly to R (via
<code>RCPP_EXPOSED_CLASS</code>). Methods of the class are accessed using the
<code>$</code> operator.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>File offsets are given as R <code>numeric</code> (i.e., <code>double</code> type), optionally
carrying the <code><a href="https://rdrr.io/pkg/bit64/man/bit64-package.html" class="external-link">bit64::integer64</a></code> class attribute. They are returned as
<code>numeric</code> with the <code>integer64</code> class attribute attached. The <code>integer64</code>
type is signed, so the maximum file offset supported by this interface
is <code>9223372036854775807</code> (the value of <code>bit64::lim.integer64()[2]</code>).</p>
<p>Some virtual file systems allow only sequential write, so no seeks or read
operations are then allowed (e.g., AWS S3 files with /vsis3/).
Starting with GDAL 3.2, a configuration option can be set with:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">set_config_option</span>(<span class="st">"CPL_VSIL_USE_TEMP_FILE_FOR_RANDOM_WRITE"</span>, <span class="st">"YES"</span>)</span></code></pre><p></p></div>
<p>in which case random-write access is possible (involves the creation of a
temporary local file, whose location is controlled by the <code>CPL_TMPDIR</code>
configuration option). In this case, setting <code>access</code> to <code>"w+"</code> may be
needed for writing with seek and read operations (if creating a new file,
otherwise, <code>"r+"</code> to open an existing file), while <code>"w"</code> access would
allow sequential write only.</p>
    </div>
    <div class="section level2">
    <h2 id="usage-see-details-">Usage (see Details)<a class="anchor" aria-label="anchor" href="#usage-see-details-"></a></h2>


<div class="sourceCode"><pre><code><span></span>
<span><span class="co">## Constructors</span></span>
<span><span class="va">vf</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">VSIFile</span>, <span class="va">filename</span><span class="op">)</span></span>
<span><span class="co"># specifying access:</span></span>
<span><span class="va">vf</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">VSIFile</span>, <span class="va">filename</span>, <span class="va">access</span><span class="op">)</span></span>
<span><span class="co"># specifying access and options (both required):</span></span>
<span><span class="va">vf</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">VSIFile</span>, <span class="va">filename</span>, <span class="va">access</span>, <span class="va">options</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Methods</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">seek</span><span class="op">(</span><span class="va">offset</span>, <span class="va">origin</span><span class="op">)</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">tell</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">rewind</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="va">nbytes</span><span class="op">)</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">eof</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">truncate</span><span class="op">(</span><span class="va">new_size</span><span class="op">)</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">flush</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">ingest</span><span class="op">(</span><span class="va">max_size</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">open</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">get_filename</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">get_access</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">vf</span><span class="op">$</span><span class="fu">set_access</span><span class="op">(</span><span class="va">access</span><span class="op">)</span></span></code></pre></div>

    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>


<div class="section">
<h3 id="constructors">Constructors<a class="anchor" aria-label="anchor" href="#constructors"></a></h3>


<p><code>new(VSIFile, filename)</code><br>
Returns an object of class <code>VSIFile</code>, or an error is raised if a file
handle cannot be obtained.</p>
<p><code>new(VSIFile, filename, access)</code><br>
Alternate constructor for passing <code>access</code> as a character string
(e.g., <code>"r"</code>, <code>"r+"</code>, <code>"w"</code>, <code>"w+"</code>).
Returns an object of class <code>VSIFile</code> with an open file handle, or an error
is raised if a file handle cannot be obtained.</p>
<p><code>new(VSIFile, filename, access, options)</code><br>
Alternate constructor for passing <code>access</code> as a character string, and
<code>options</code> as a character vector of "NAME=VALUE" pairs (all arguments
required, GDAL &gt;= 3.3 required for <code>options</code> support).</p>
<p>The <code>options</code> argument is highly file system dependent. Supported options
as of GDAL 3.9 include:</p><ul><li><p>MIME headers such as Content-Type and Content-Encoding are supported for
the /vsis3/, /vsigs/, /vsiaz/, /vsiadls/ file systems.</p></li>
<li><p>DISABLE_READDIR_ON_OPEN=YES/NO (GDAL &gt;= 3.6) for /vsicurl/ and other
network-based file systems. By default, directory file listing is done,
unless YES is specified.</p></li>
<li><p>WRITE_THROUGH=YES (GDAL &gt;= 3.8) for Windows regular files to set the
FILE_FLAG_WRITE_THROUGH flag to the <code>CreateFile()</code> function. In that mode,
the data are written to the system cache but are flushed to disk without
delay.</p></li>
</ul></div>

<div class="section">
<h3 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h3>


<p><code>$seek(offset, origin)</code><br>
Seek to a requested <code>offset</code> in the file.
<code>offset</code> is given as a positive numeric scalar, optionally as
<code><a href="https://rdrr.io/pkg/bit64/man/bit64-package.html" class="external-link">bit64::integer64</a></code> type.
<code>origin</code> is given as a character string, one of <code>SEEK_SET</code>, <code>SEEK_CUR</code> or
<code>SEEK_END</code>. Package global constants are defined for convenience, so these
can be passed unquoted. Note that <code>offset</code> is an unsigned type, so <code>SEEK_CUR</code>
can only be used for positive seek. If negative seek is needed, use:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>vf<span class="sc">$</span><span class="fu">seek</span>(vf<span class="sc">$</span><span class="fu">tell</span>() <span class="sc">+</span> negative_offset, SEEK_SET)</span></code></pre><p></p></div>
<p>Returns <code>0</code> on success or <code>-1</code> on failure.</p>
<p><code>$tell()</code><br>
Returns the current file read/write offset in bytes from the beginning of
the file. The return value is a numeric scalar carrying the <code>integer64</code>
class attribute.</p>
<p><code>$rewind()</code><br>
Rewind the file pointer to the beginning of the file. This is equivalent to
<code>vf$seek(0, SEEK_SET)</code>. No return value, called for that side effect.</p>
<p><code>$read(nbytes)</code><br>
Read <code>nbytes</code> bytes from the file at the current offset. Returns a vector
of R <code>raw</code> type, or <code>NULL</code> if the operation fails.</p>
<p><code>$write(object)</code><br>
Write bytes to the file at the current offset. <code>object</code> is a <code>raw</code> vector.
Returns the number of bytes successfully written, as numeric scalar
carrying the <code>integer64</code> class attribute.
See also base R <code><a href="https://rdrr.io/r/base/rawConversion.html" class="external-link">charToRaw()</a></code> / <code><a href="https://rdrr.io/r/base/rawConversion.html" class="external-link">rawToChar()</a></code>, convert to or from raw
vectors, and <code><a href="https://rdrr.io/r/base/readBin.html" class="external-link">readBin()</a></code> / <code><a href="https://rdrr.io/r/base/readBin.html" class="external-link">writeBin()</a></code> which read binary data from or write
binary data to a raw vector.</p>
<p><code>$eof()</code><br>
Test for end of file. Returns <code>TRUE</code> if an end-of-file condition occurred
during the previous read operation. The end-of-file flag is cleared by a
successful call to <code>$seek()</code>.</p>
<p><code>$truncate(new_size)</code><br>
Truncate/expand the file to the specified <code>new_size</code>, given as a positive
numeric scalar, optionally as <code><a href="https://rdrr.io/pkg/bit64/man/bit64-package.html" class="external-link">bit64::integer64</a></code> type.
Returns <code>0</code> on success.</p>
<p><code>$flush()</code><br>
Flush pending writes to disk. For files in write or update mode and on
file system types where it is applicable, all pending output on the file is
flushed to the physical disk.
On Windows regular files, this method does nothing, unless the
<code>VSI_FLUSH=YES</code> configuration option is set (and only when the file has not
been opened with the <code>WRITE_THROUGH</code> option).
Returns <code>0</code> on success or <code>-1</code> on error.</p>
<p><code>$ingest(max_size)</code><br>
Ingest a file into memory. Read the whole content of the file into a <code>raw</code>
vector.
<code>max_size</code> is the maximum size of file allowed, given as a numeric scalar,
optionally as <code><a href="https://rdrr.io/pkg/bit64/man/bit64-package.html" class="external-link">bit64::integer64</a></code> type. If no limit, set to a negative value.
Returns a <code>raw</code> vector, or <code>NULL</code> if the operation fails.</p>
<p><code>$close()</code><br>
Closes the file. The file should always be closed when I/O has been
completed. Returns <code>0</code> on success or <code>-1</code> on error.</p>
<p><code>$open()</code><br>
This method can be used to re-open the file after it has been closed, using
the same <code>filename</code>, and same <code>options</code> if any are set. The file will be
opened using <code>access</code> as currently set. The <code>$set_access()</code> method can be
called to change the requested access while the file is closed.
No return value. An error is raised if a file handle cannot be obtained.</p>
<p><code>$get_filename()</code><br>
Returns a character string containing the <code>filename</code> associated with this
<code>VSIFile</code> object (the <code>filename</code> originally used to create the object).</p>
<p><code>$get_access()</code><br>
Returns a character string containing the <code>access</code> as currently set on this
<code>VSIFile</code> object.</p>
<p><code>$set_access(access)</code><br>
Sets the requested read/write access on this <code>VSIFile</code> object, given as a
character string (i.e., <code>"r"</code>, <code>"r+"</code>, <code>"w"</code>, <code>"w+"</code>). The access can be
changed only while the <code>VSIFile</code> object is closed, and will apply when it is
re-opened with a call to <code>$open()</code>.
Returns <code>0</code> on success or <code>-1</code> on error.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>GDAL Virtual File Systems (compressed, network hosted, etc...):<br>
/vsimem, /vsizip, /vsitar, /vsicurl, ...<br><a href="https://gdal.org/en/stable/user/virtual_file_systems.html" class="external-link">https://gdal.org/en/stable/user/virtual_file_systems.html</a></p>
<p><code><a href="vsi_copy_file.html">vsi_copy_file()</a></code>, <code><a href="vsi_read_dir.html">vsi_read_dir()</a></code>, <code><a href="vsi_stat.html">vsi_stat()</a></code>, <code><a href="vsi_unlink.html">vsi_unlink()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># The examples make use of the FARSITE LCP format specification at:</span></span></span>
<span class="r-in"><span><span class="co"># https://gdal.org/en/stable/drivers/raster/lcp.html</span></span></span>
<span class="r-in"><span><span class="co"># An LCP file is a raw format with a 7,316-byte header. The format</span></span></span>
<span class="r-in"><span><span class="co"># specification gives byte offets and data types for fields in the header.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lcp_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/storm_lake.lcp"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># identify a FARSITE v.4 LCP file</span></span></span>
<span class="r-in"><span><span class="co"># function to check if the first three fields have valid data</span></span></span>
<span class="r-in"><span><span class="co"># input is the first twelve raw bytes in the file</span></span></span>
<span class="r-in"><span><span class="va">is_lcp</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">bytes</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readBin.html" class="external-link">readBin</a></span><span class="op">(</span><span class="va">bytes</span>, <span class="st">"integer"</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="op">(</span><span class="va">values</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">==</span> <span class="fl">20</span> <span class="op">||</span> <span class="va">values</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">==</span> <span class="fl">21</span><span class="op">)</span> <span class="op">&amp;&amp;</span></span></span>
<span class="r-in"><span>      <span class="op">(</span><span class="va">values</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">==</span> <span class="fl">20</span> <span class="op">||</span> <span class="va">values</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">==</span> <span class="fl">21</span><span class="op">)</span> <span class="op">&amp;&amp;</span></span></span>
<span class="r-in"><span>      <span class="op">(</span><span class="va">values</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&gt;=</span> <span class="op">-</span><span class="fl">90</span> <span class="op">&amp;&amp;</span> <span class="va">values</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;=</span> <span class="fl">90</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">vf</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">VSIFile</span>, <span class="va">lcp_file</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="fl">12</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">is_lcp</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">tell</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> integer64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 12</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># read the whole file into memory</span></span></span>
<span class="r-in"><span><span class="va">bytes</span> <span class="op">&lt;-</span> <span class="va">vf</span><span class="op">$</span><span class="fu">ingest</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># write to a VSI in-memory file</span></span></span>
<span class="r-in"><span><span class="va">mem_file</span> <span class="op">&lt;-</span> <span class="st">"/vsimem/storml_copy.lcp"</span></span></span>
<span class="r-in"><span><span class="va">vf</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">VSIFile</span>, <span class="va">mem_file</span>, <span class="st">"w+"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span><span class="va">bytes</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> integer64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 252132</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">tell</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> integer64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 252132</span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">rewind</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">tell</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> integer64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">seek</span><span class="op">(</span><span class="fl">0</span>, <span class="va">SEEK_END</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="op">(</span><span class="va">vf</span><span class="op">$</span><span class="fu">tell</span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="vsi_stat.html">vsi_stat</a></span><span class="op">(</span><span class="va">lcp_file</span>, <span class="st">"size"</span><span class="op">)</span><span class="op">)</span>  <span class="co"># TRUE</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">rewind</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="fl">12</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">is_lcp</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># read/write an integer field</span></span></span>
<span class="r-in"><span><span class="co"># write invalid data for the Latitude field and then set back</span></span></span>
<span class="r-in"><span><span class="co"># save the original first</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">seek</span><span class="op">(</span><span class="fl">8</span>, <span class="va">SEEK_SET</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="va">lat_orig</span> <span class="op">&lt;-</span> <span class="va">vf</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/readBin.html" class="external-link">readBin</a></span><span class="op">(</span><span class="va">lat_orig</span>, <span class="st">"integer"</span><span class="op">)</span>  <span class="co"># 46</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 46</span>
<span class="r-in"><span><span class="co"># latitude -99 out of range</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">seek</span><span class="op">(</span><span class="fl">8</span>, <span class="va">SEEK_SET</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/readBin.html" class="external-link">writeBin</a></span><span class="op">(</span><span class="op">-</span><span class="fl">99L</span>, <span class="fu"><a href="https://rdrr.io/r/base/raw.html" class="external-link">raw</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="va">vf</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> integer64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4</span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">rewind</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="fl">12</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">is_lcp</span><span class="op">(</span><span class="op">)</span>  <span class="co"># FALSE</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">seek</span><span class="op">(</span><span class="fl">8</span>, <span class="va">SEEK_SET</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="fl">4</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/readBin.html" class="external-link">readBin</a></span><span class="op">(</span><span class="st">"integer"</span><span class="op">)</span>  <span class="co"># -99</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -99</span>
<span class="r-in"><span><span class="co"># set back to original</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">seek</span><span class="op">(</span><span class="fl">8</span>, <span class="va">SEEK_SET</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span><span class="va">lat_orig</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> integer64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4</span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">rewind</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="fl">12</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">is_lcp</span><span class="op">(</span><span class="op">)</span>  <span class="co"># TRUE</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># read a vector of doubles - xmax, xmin, ymax, ymin</span></span></span>
<span class="r-in"><span><span class="co"># 327766.1, 323476.1, 5105082.0, 5101872.0</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">seek</span><span class="op">(</span><span class="fl">4172</span>, <span class="va">SEEK_SET</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="fl">32</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/readBin.html" class="external-link">readBin</a></span><span class="op">(</span><span class="st">"double"</span>, n <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  327766.1  323476.1 5105082.0 5101872.0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># read a short int, the canopy cover units</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">seek</span><span class="op">(</span><span class="fl">4232</span>, <span class="va">SEEK_SET</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/readBin.html" class="external-link">readBin</a></span><span class="op">(</span><span class="st">"integer"</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>  <span class="co"># 1 = "percent"</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># read the Description field</span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">seek</span><span class="op">(</span><span class="fl">6804</span>, <span class="va">SEEK_SET</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="va">bytes</span> <span class="op">&lt;-</span> <span class="va">vf</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="fl">512</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/rawConversion.html" class="external-link">rawToChar</a></span><span class="op">(</span><span class="va">bytes</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "LCP file created by GDAL."</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># edit the Description</span></span></span>
<span class="r-in"><span><span class="va">desc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rawConversion.html" class="external-link">rawToChar</a></span><span class="op">(</span><span class="va">bytes</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>              <span class="st">"Storm Lake AOI,"</span>,</span></span>
<span class="r-in"><span>              <span class="st">"Beaverhead-Deerlodge National Forest, Montana."</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">seek</span><span class="op">(</span><span class="fl">6804</span>, <span class="va">SEEK_SET</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/rawConversion.html" class="external-link">charToRaw</a></span><span class="op">(</span><span class="va">desc</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="va">vf</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> integer64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 88</span>
<span class="r-in"><span><span class="va">vf</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># verify the file as a raster dataset</span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALRaster</span>, <span class="va">mem_file</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Driver: LCP/FARSITE v.4 Landscape File (.lcp)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Files: /vsimem/storml_copy.lcp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Size is 143, 107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coordinate System is:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data axis to CRS axis mapping: 1,2,3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Origin = (323476.071970863151364,5105081.983031376264989)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pixel Size = (30.000000000000000,-30.000000000000000)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   DESCRIPTION=LCP file created by GDAL. Storm Lake AOI, Beaverhead-Deerlodge National Forest, Montana.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   LATITUDE=46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   LINEAR_UNIT=Meters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Corner Coordinates:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Upper Left  (  323476.072, 5105081.983) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lower Left  (  323476.072, 5101871.983) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Upper Right (  327766.072, 5105081.983) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lower Right (  327766.072, 5101871.983) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Center      (  325621.072, 5103476.983) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 1 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Elevation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ELEVATION_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ELEVATION_MAX=3046</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ELEVATION_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ELEVATION_NUM_CLASSES=-1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ELEVATION_UNIT=0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ELEVATION_UNIT_NAME=Meters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 2 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Slope</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     SLOPE_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     SLOPE_MAX=54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     SLOPE_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     SLOPE_NUM_CLASSES=53</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     SLOPE_UNIT=0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     SLOPE_UNIT_NAME=Degrees</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 3 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Aspect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ASPECT_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ASPECT_MAX=359</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ASPECT_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ASPECT_NUM_CLASSES=-1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ASPECT_UNIT=2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ASPECT_UNIT_NAME=Azimuth degrees</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 4 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Fuel models</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_MAX=183</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_NUM_CLASSES=12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_OPTION=0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_OPTION_DESC=no custom models AND no conversion file needed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_VALUES=0,98,99,101,102,121,122,123,142,162,165,181,183</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 5 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Canopy cover</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_COV_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_COV_MAX=75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_COV_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_COV_NUM_CLASSES=8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_COV_UNIT=1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_COV_UNIT_NAME=Percent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 6 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Canopy height</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_HT_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_HT_MAX=390</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_HT_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_HT_NUM_CLASSES=8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_HT_UNIT=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_HT_UNIT_NAME=Meters x 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 7 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Canopy base height</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBH_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBH_MAX=100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBH_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBH_NUM_CLASSES=22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBH_UNIT=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBH_UNIT_NAME=Meters x 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 8 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Canopy bulk density</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBD_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBD_MAX=34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBD_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBD_NUM_CLASSES=15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBD_UNIT=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBD_UNIT_NAME=kg/m^3 x 100</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># retrieve Description from the metadata</span></span></span>
<span class="r-in"><span><span class="co"># band = 0 for dataset-level metadata, domain = "" for default domain</span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getMetadata</span><span class="op">(</span>band <span class="op">=</span> <span class="fl">0</span>, domain <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "DESCRIPTION=LCP file created by GDAL. Storm Lake AOI, Beaverhead-Deerlodge National Forest, Montana."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "LATITUDE=46"                                                                                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "LINEAR_UNIT=Meters"                                                                                  </span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getMetadataItem</span><span class="op">(</span>band <span class="op">=</span> <span class="fl">0</span>, mdi_name <span class="op">=</span> <span class="st">"DESCRIPTION"</span>, domain <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "LCP file created by GDAL. Storm Lake AOI, Beaverhead-Deerlodge National Forest, Montana."</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/ctoney" class="external-link">Chris Toney</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

