<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convenience wrapper for GDALRaster$read() — read_ds • gdalraster</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convenience wrapper for GDALRaster$read() — read_ds"><meta name="description" content="read_ds() will read from a raster dataset that is already open in a
GDALRaster object. By default, it attempts to read the full raster
extent from all bands at full resolution. read_ds() is sometimes more
convenient than GDALRaster$read(), e.g., to read specific multiple bands
for display with plot_raster(), or simply for the default arguments that
read an entire raster into memory (see Note)."><meta property="og:description" content="read_ds() will read from a raster dataset that is already open in a
GDALRaster object. By default, it attempts to read the full raster
extent from all bands at full resolution. read_ds() is sometimes more
convenient than GDALRaster$read(), e.g., to read specific multiple bands
for display with plot_raster(), or simply for the default arguments that
read an entire raster into memory (see Note)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gdalraster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0.9043</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/gdal-block-cache.html">GDAL Block Cache</a></li>
    <li><a class="dropdown-item" href="../articles/gdal-config-quick-ref.html">GDAL Config Quick Reference</a></li>
    <li><a class="dropdown-item" href="../articles/gdalvector-draft.html">Draft Bindings to the GDAL/OGR Vector API</a></li>
    <li><a class="dropdown-item" href="../articles/raster-api-tutorial.html">Raster API Tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/raster-attribute-tables.html">Raster Attribute Tables</a></li>
    <li><a class="dropdown-item" href="../articles/raster-display.html">Raster Display</a></li>
    <li><a class="dropdown-item" href="../articles/vector-api-overview.html">Vector API Overview</a></li>
    <li><a class="dropdown-item" href="../articles/vector-read-benchmarks.html">Vector Read Benchmarks</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USDAForestService/gdalraster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Convenience wrapper for <code>GDALRaster$read()</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/USDAForestService/gdalraster/blob/main/R/gdalraster_proc.R" class="external-link"><code>R/gdalraster_proc.R</code></a></small>
      <div class="d-none name"><code>read_ds.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>read_ds()</code> will read from a raster dataset that is already open in a
<code>GDALRaster</code> object. By default, it attempts to read the full raster
extent from all bands at full resolution. <code>read_ds()</code> is sometimes more
convenient than <code>GDALRaster$read()</code>, e.g., to read specific multiple bands
for display with <code><a href="plot_raster.html">plot_raster()</a></code>, or simply for the default arguments that
read an entire raster into memory (see Note).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_ds</span><span class="op">(</span></span>
<span>  <span class="va">ds</span>,</span>
<span>  bands <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xoff <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  yoff <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  xsize <span class="op">=</span> <span class="va">ds</span><span class="op">$</span><span class="fu">getRasterXSize</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ysize <span class="op">=</span> <span class="va">ds</span><span class="op">$</span><span class="fu">getRasterYSize</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  out_xsize <span class="op">=</span> <span class="va">xsize</span>,</span>
<span>  out_ysize <span class="op">=</span> <span class="va">ysize</span>,</span>
<span>  as_list <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  as_raw <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-ds">ds<a class="anchor" aria-label="anchor" href="#arg-ds"></a></dt>
<dd><p>An object of class <code>GDALRaster</code> in open state.</p></dd>


<dt id="arg-bands">bands<a class="anchor" aria-label="anchor" href="#arg-bands"></a></dt>
<dd><p>Integer vector of band numbers to read. By default all bands
will be read.</p></dd>


<dt id="arg-xoff">xoff<a class="anchor" aria-label="anchor" href="#arg-xoff"></a></dt>
<dd><p>Integer. The pixel (column) offset to the top left corner of the
raster region to be read (zero to start from the left side).</p></dd>


<dt id="arg-yoff">yoff<a class="anchor" aria-label="anchor" href="#arg-yoff"></a></dt>
<dd><p>Integer. The line (row) offset to the top left corner of the
raster region to be read (zero to start from the top).</p></dd>


<dt id="arg-xsize">xsize<a class="anchor" aria-label="anchor" href="#arg-xsize"></a></dt>
<dd><p>Integer. The width in pixels of the region to be read.</p></dd>


<dt id="arg-ysize">ysize<a class="anchor" aria-label="anchor" href="#arg-ysize"></a></dt>
<dd><p>Integer. The height in pixels of the region to be read.</p></dd>


<dt id="arg-out-xsize">out_xsize<a class="anchor" aria-label="anchor" href="#arg-out-xsize"></a></dt>
<dd><p>Integer. The width in pixels of the output buffer into
which the desired region will be read (e.g., to read a reduced resolution
overview).</p></dd>


<dt id="arg-out-ysize">out_ysize<a class="anchor" aria-label="anchor" href="#arg-out-ysize"></a></dt>
<dd><p>Integer. The height in pixels of the output buffer into
which the desired region will be read (e.g., to read a reduced resolution
overview).</p></dd>


<dt id="arg-as-list">as_list<a class="anchor" aria-label="anchor" href="#arg-as-list"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, return output as a list of band vectors.
If <code>FALSE</code> (the default), output is a vector of pixel data interleaved by
band.</p></dd>


<dt id="arg-as-raw">as_raw<a class="anchor" aria-label="anchor" href="#arg-as-raw"></a></dt>
<dd><p>Logical. If <code>TRUE</code> and the underlying data type is Byte,
return output as R's raw vector type. This maps to the setting
<code>$readByteAsRaw</code> on the <code>GDALRaster</code> object, which will be temporarily
updated in this function. To control this behavior in a persistent way on
a dataset see <code>$readByteAsRaw</code> in <code><a href="GDALRaster-class.html">GDALRaster-class</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>as_list = FALSE</code> (the default), a vector of <code>raw</code>, <code>integer</code>,
<code>double</code> or <code>complex</code> containing the values that were read. It is organized
in left to right, top to bottom pixel order, interleaved by band.
If <code>as_list = TRUE</code>, a list with number of elements equal to the number of
bands read. Each element contains a vector of <code>raw</code>, <code>integer</code>, <code>double</code> or
<code>complex</code> containing the pixel values that were read for the band.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>NA</code> will be returned in place of the nodata value if the raster dataset has
a nodata value defined for the band. Data are read as R <code>integer</code> type when
possible for the raster data type (Byte, Int8, Int16, UInt16, Int32),
otherwise as type <code>double</code> (UInt32, Float32, Float64).</p>
<p>The output object has attribute <code>gis</code>, a list containing:</p><div class="sourceCode"><pre><code>
  $type = "raster"
  $bbox = c(xmin, ymin, xmax, ymax)
  $dim = c(xsize, ysize, nbands)
  $srs = &lt;projection as WKT2 string&gt;
  $datatype = &lt;character vector of data type name by band&gt;
</code></pre></div><p>The WKT version used for the projection string can be overridden by setting
the <code>OSR_WKT_FORMAT</code> configuration option. See <code><a href="srs_convert.html">srs_to_wkt()</a></code> for a list of
supported values.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>There is small overhead in calling <code>read_ds()</code> compared with
calling <code>GDALRaster$read()</code> directly. This would only matter if calling
the function repeatedly to read a raster in chunks. For the case of reading
a large raster in many chunks, it will be optimal performance-wise to call
<code>GDALRaster$read()</code> directly.</p>
<p>By default, this function will attempt to read the full raster into memory.
It generally should not be called on large raster datasets using the default
argument values. The memory size in bytes of the returned vector will be,
e.g., (xsize * ysize * number of bands * 4) for data read as
<code>integer</code>, or (xsize * ysize * number of bands * 8) for data read as
<code>double</code> (plus small object overhead for the vector).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="GDALRaster-class.html">GDALRaster$read()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># read three bands from a multi-band dataset</span></span></span>
<span class="r-in"><span><span class="va">lcp_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/storm_lake.lcp"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALRaster</span>, <span class="va">lcp_file</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># as a vector of pixel data interleaved by band</span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu">read_ds</span><span class="op">(</span><span class="va">ds</span>, bands<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">5</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html" class="external-link">typeof</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "integer"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 45903</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/object.size.html" class="external-link">object.size</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 185776 bytes</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># as a list of band vectors</span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu">read_ds</span><span class="op">(</span><span class="va">ds</span>, bands<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">5</span>,<span class="fl">4</span><span class="op">)</span>, as_list<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html" class="external-link">typeof</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "list"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/object.size.html" class="external-link">object.size</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 185960 bytes</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># gis attributes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">r</span>, <span class="st">"gis"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "raster"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bbox</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  323476.1 5101872.0  327766.1 5105082.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $dim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 143 107   3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $srs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "PROJCRS[\"NAD83 / UTM zone 12N\",BASEGEOGCRS[\"NAD83\",DATUM[\"North American Datum 1983\",ELLIPSOID[\"GRS 1980\",6378137,298.257222101,LENGTHUNIT[\"metre\",1]],ID[\"EPSG\",6269]],PRIMEM[\"Greenwich\",0,ANGLEUNIT[\"Degree\",0.0174532925199433]]],CONVERSION[\"UTM zone 12N\",METHOD[\"Transverse Mercator\",ID[\"EPSG\",9807]],PARAMETER[\"Latitude of natural origin\",0,ANGLEUNIT[\"Degree\",0.0174532925199433],ID[\"EPSG\",8801]],PARAMETER[\"Longitude of natural origin\",-111,ANGLEUNIT[\"Degree\",0.0174532925199433],ID[\"EPSG\",8802]],PARAMETER[\"Scale factor at natural origin\",0.9996,SCALEUNIT[\"unity\",1],ID[\"EPSG\",8805]],PARAMETER[\"False easting\",500000,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8806]],PARAMETER[\"False northing\",0,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8807]],ID[\"EPSG\",16012]],CS[Cartesian,2],AXIS[\"(E)\",east,ORDER[1],LENGTHUNIT[\"metre\",1,ID[\"EPSG\",9001]]],AXIS[\"(N)\",north,ORDER[2],LENGTHUNIT[\"metre\",1,ID[\"EPSG\",9001]]]]"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $datatype</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Int16" "Int16" "Int16"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/ctoney" class="external-link">Chris Toney</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

