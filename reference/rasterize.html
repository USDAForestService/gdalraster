<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="rasterize() burns vector geometries (points, lines, or polygons) into
the band(s) of a raster dataset. Vectors are read from any GDAL
OGR-supported vector format.
This function is a wrapper for the gdal_rasterize command-line
utility (https://gdal.org/programs/gdal_rasterize.html)."><title>Burn vector geometries into a raster — rasterize • gdalraster</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Burn vector geometries into a raster — rasterize"><meta property="og:description" content="rasterize() burns vector geometries (points, lines, or polygons) into
the band(s) of a raster dataset. Vectors are read from any GDAL
OGR-supported vector format.
This function is a wrapper for the gdal_rasterize command-line
utility (https://gdal.org/programs/gdal_rasterize.html)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gdalraster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.10.9010</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/gdal-block-cache.html">GDAL Block Cache</a>
    <a class="dropdown-item" href="../articles/gdalvector-draft.html">Draft Bindings to the GDAL/OGR Vector API</a>
    <a class="dropdown-item" href="../articles/raster-display.html">Raster Display</a>
    <a class="dropdown-item" href="../articles/gdal-config-quick-ref.html">GDAL Config Quick Reference</a>
    <a class="dropdown-item" href="../articles/raster-api-tutorial.html">Raster API Tutorial</a>
    <a class="dropdown-item" href="../articles/raster-attribute-tables.html">Raster Attribute Tables</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/USDAForestService/gdalraster/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Burn vector geometries into a raster</h1>
      <small class="dont-index">Source: <a href="https://github.com/USDAForestService/gdalraster/blob/HEAD/R/gdalraster_proc.R" class="external-link"><code>R/gdalraster_proc.R</code></a></small>
      <div class="d-none name"><code>rasterize.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>rasterize()</code> burns vector geometries (points, lines, or polygons) into
the band(s) of a raster dataset. Vectors are read from any GDAL
OGR-supported vector format.
This function is a wrapper for the <code class="command">gdal_rasterize</code> command-line
utility (<a href="https://gdal.org/programs/gdal_rasterize.html" class="external-link">https://gdal.org/programs/gdal_rasterize.html</a>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rasterize</span><span class="op">(</span></span>
<span>  <span class="va">src_dsn</span>,</span>
<span>  <span class="va">dstfile</span>,</span>
<span>  band <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  where <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sql <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  burn_value <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  burn_attr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  invert <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  te <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tap <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dtName <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dstnodata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  init <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fmt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  co <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  add_options <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>src_dsn</dt>
<dd><p>Data source name for the input vector layer (filename or
connection string).</p></dd>


<dt>dstfile</dt>
<dd><p>Filename of the output raster. Must support update mode
access. This file will be created (or overwritten if it already exists -
see Note).</p></dd>


<dt>band</dt>
<dd><p>Numeric vector. The band(s) to burn values into (for existing
<code>dstfile</code>). The default is to burn into band 1. Not used when creating a
new raster.</p></dd>


<dt>layer</dt>
<dd><p>Character vector of layer names(s) from <code>src_dsn</code>  that will be
used for input features. At least one layer name or a <code>sql</code> option must be
specified.</p></dd>


<dt>where</dt>
<dd><p>An optional SQL WHERE style query string to select features to
burn in from the input <code>layer</code>(s).</p></dd>


<dt>sql</dt>
<dd><p>An SQL statement to be evaluated against <code>src_dsn</code> to produce a
virtual layer of features to be burned in (alternative to <code>layer</code>).</p></dd>


<dt>burn_value</dt>
<dd><p>A fixed numeric value to burn into a band for all
features. A numeric vector can be supplied, one burn value per band being
written to.</p></dd>


<dt>burn_attr</dt>
<dd><p>Character string. Name of an attribute field on the
features to be used for a burn-in value. The value will be burned into all
output bands.</p></dd>


<dt>invert</dt>
<dd><p>Logical scalar. <code>TRUE</code> to invert rasterization. Burn the fixed
burn value, or the burn value associated with the first feature, into all
parts of the raster not inside the provided polygon.</p></dd>


<dt>te</dt>
<dd><p>Numeric vector of length four. Sets the output raster extent. The
values must be expressed in georeferenced units. If not specified, the
extent of the output raster will be the extent of the vector layer.</p></dd>


<dt>tr</dt>
<dd><p>Numeric vector of length two. Sets the target pixel resolution.
The values must be expressed in georeferenced units. Both must be positive.</p></dd>


<dt>tap</dt>
<dd><p>Logical scalar. (target aligned pixels) Align the coordinates of
the extent of the output raster to the values of <code>tr</code>, such that the
aligned extent includes the minimum extent. Alignment means that
xmin / resx, ymin / resy, xmax / resx and ymax / resy are integer values.</p></dd>


<dt>ts</dt>
<dd><p>Numeric vector of length two. Sets the output raster size in
pixels (xsize, ysize). Note that <code>ts</code> cannot be used with <code>tr</code>.</p></dd>


<dt>dtName</dt>
<dd><p>Character name of output raster data type, e.g., <code>Byte</code>,
<code>Int16</code>, <code>UInt16</code>, <code>Int32</code>, <code>UInt32</code>, <code>Float32</code>, <code>Float64</code>.
Defaults to <code>Float64</code>.</p></dd>


<dt>dstnodata</dt>
<dd><p>Numeric scalar. Assign a nodata value to output bands.</p></dd>


<dt>init</dt>
<dd><p>Numeric vector. Pre-initialize the output raster band(s) with
these value(s). However, it is not marked as the nodata value in the output
file. If only one value is given, the same value is used in all the bands.</p></dd>


<dt>fmt</dt>
<dd><p>Output raster format short name (e.g., <code>"GTiff"</code>). Will attempt
to guess from the output filename if <code>fmt</code> is not specified.</p></dd>


<dt>co</dt>
<dd><p>Optional list of format-specific creation options for the output
raster in a vector of "NAME=VALUE" pairs
(e.g., <code>options = c("TILED=YES","COMPRESS=LZW")</code> to set LZW compression
during creation of a tiled GTiff file).</p></dd>


<dt>add_options</dt>
<dd><p>An optional character vector of additional command-line
options to <code>gdal_rasterize</code> (see the <code>gdal_rasterize</code> documentation at the
URL above for all available options).</p></dd>


<dt>quiet</dt>
<dd><p>Logical scalar. If <code>TRUE</code>, a progress bar will not be
displayed. Defaults to <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Logical indicating success (invisible <code>TRUE</code>).
An error is raised if the operation fails.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The function creates a new target raster when any of the <code>fmt</code>, <code>dstnodata</code>,
<code>init</code>, <code>co</code>, <code>te</code>, <code>tr</code>, <code>tap</code>, <code>ts</code>, or <code>dtName</code> arguments are used. The
resolution or size must be specified using the <code>tr</code> or <code>ts</code> argument for all
new rasters. The target raster will be overwritten if it already exists and
any of these creation-related options are used.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="polygonize.html">polygonize()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># MTBS fire perimeters for Yellowstone National Park 1984-2022</span></span></span>
<span class="r-in"><span><span class="va">dsn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ynp_fires_1984_2022.gpkg"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sql</span> <span class="op">&lt;-</span> <span class="st">"SELECT * FROM mtbs_perims ORDER BY mtbs_perims.ig_year"</span></span></span>
<span class="r-in"><span><span class="va">out_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/"</span>, <span class="st">"ynp_fires_1984_2022.tif"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">rasterize</span><span class="op">(</span>src_dsn <span class="op">=</span> <span class="va">dsn</span>,</span></span>
<span class="r-in"><span>          dstfile <span class="op">=</span> <span class="va">out_file</span>,</span></span>
<span class="r-in"><span>          sql <span class="op">=</span> <span class="va">sql</span>,</span></span>
<span class="r-in"><span>          burn_attr <span class="op">=</span> <span class="st">"ig_year"</span>,</span></span>
<span class="r-in"><span>          tr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">90</span>,<span class="fl">90</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          tap <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>          dtName <span class="op">=</span> <span class="st">"Int16"</span>,</span></span>
<span class="r-in"><span>          dstnodata <span class="op">=</span> <span class="op">-</span><span class="fl">9999</span>,</span></span>
<span class="r-in"><span>          init <span class="op">=</span> <span class="op">-</span><span class="fl">9999</span>,</span></span>
<span class="r-in"><span>          co <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TILED=YES"</span>,<span class="st">"COMPRESS=LZW"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0...10...20...30...40...50...60...70...80...90...100 - done.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALRaster</span>, <span class="va">out_file</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pal</span> <span class="op">&lt;-</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_viridis.html" class="external-link">viridis_pal</a></span><span class="op">(</span>end <span class="op">=</span> <span class="fl">0.8</span>, direction <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ramp</span> <span class="op">&lt;-</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/colour_ramp.html" class="external-link">colour_ramp</a></span><span class="op">(</span><span class="va">pal</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot_raster.html">plot_raster</a></span><span class="op">(</span><span class="va">ds</span>, legend <span class="op">=</span> <span class="cn">TRUE</span>, col_map_fn <span class="op">=</span> <span class="va">ramp</span>, na_col <span class="op">=</span> <span class="st">"#d9d9d9"</span>,</span></span>
<span class="r-in"><span>            main<span class="op">=</span><span class="st">"YNP Fires 1984-2022 - Most Recent Burn Year"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="rasterize-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="deleteDataset.html">deleteDataset</a></span><span class="op">(</span><span class="va">out_file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/ctoney" class="external-link">Chris Toney</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

