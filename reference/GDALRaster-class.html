<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="GDALRaster provides an interface for accessing a raster dataset via GDAL
and calling methods on the underlying GDALDataset, GDALDriver and
GDALRasterBand objects. See https://gdal.org/api/index.html for
details of the GDAL Raster API."><title>Class encapsulating a subset of the GDAL Raster C API — GDALRaster-class • gdalraster</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Class encapsulating a subset of the GDAL Raster C API — GDALRaster-class"><meta property="og:description" content="GDALRaster provides an interface for accessing a raster dataset via GDAL
and calling methods on the underlying GDALDataset, GDALDriver and
GDALRasterBand objects. See https://gdal.org/api/index.html for
details of the GDAL Raster API."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gdalraster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/gdal-block-cache.html">GDAL Block Cache</a>
    <a class="dropdown-item" href="../articles/raster-display.html">Raster Display</a>
    <a class="dropdown-item" href="../articles/gdal-config-quick-ref.html">GDAL Config Quick Reference</a>
    <a class="dropdown-item" href="../articles/raster-api-tutorial.html">Raster API Tutorial</a>
    <a class="dropdown-item" href="../articles/raster-attribute-tables.html">Raster Attribute Tables</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/USDAForestService/gdalraster/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Class encapsulating a subset of the GDAL Raster C API</h1>
      <small class="dont-index">Source: <a href="https://github.com/USDAForestService/gdalraster/blob/HEAD/R/gdalraster.R" class="external-link"><code>R/gdalraster.R</code></a></small>
      <div class="d-none name"><code>GDALRaster-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>GDALRaster</code> provides an interface for accessing a raster dataset via GDAL
and calling methods on the underlying <code>GDALDataset</code>, <code>GDALDriver</code> and
<code>GDALRasterBand</code> objects. See <a href="https://gdal.org/api/index.html" class="external-link">https://gdal.org/api/index.html</a> for
details of the GDAL Raster API.</p>
    </div>


    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>filename</dt>
<dd><p>Character string containing the file name of a raster
dataset to open, as full path or relative to the current working directory.
In some cases, <code>filename</code> may not refer to a physical file, but instead
contain format-specific information on how to access a dataset (see GDAL
raster format descriptions:
<a href="https://gdal.org/drivers/raster/index.html" class="external-link">https://gdal.org/drivers/raster/index.html</a>).</p></dd>


<dt>read_only</dt>
<dd><p>Logical. <code>TRUE</code> to open the dataset read-only, or <code>FALSE</code>
to open with write access.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class <code>GDALRaster</code> which contains a pointer to the
opened dataset, and methods that operate on the dataset as described in
Details.
<code>GDALRaster</code> is a C++ class exposed directly to R (via
<code>RCPP_EXPOSED_CLASS</code>). Methods of the class are accessed in R using the
<code>$</code> operator.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The <code>$read()</code> method will perform automatic resampling if the
specified output size (<code>out_xsize * out_ysize</code>) is different than
the size of the region being read (<code>xsize * ysize</code>). In that case, the
GDAL_RASTERIO_RESAMPLING configuration option could also be defined to
override the default resampling to one of BILINEAR, CUBIC, CUBICSPLINE,
LANCZOS, AVERAGE or MODE (see <code><a href="set_config_option.html">set_config_option()</a></code>).</p>
    </div>
    <div class="section level2">
    <h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h2>
    

<div class="sourceCode"><pre><code><span></span>
<span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALRaster</span>, <span class="va">filename</span>, <span class="va">read_only</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Methods (see Details)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getFilename</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">open</span><span class="op">(</span><span class="va">read_only</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">isOpen</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getFileList</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">infoAsJSON</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getDriverShortName</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getDriverLongName</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getRasterXSize</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getRasterYSize</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getGeoTransform</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">setGeoTransform</span><span class="op">(</span><span class="va">transform</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getProjectionRef</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">setProjection</span><span class="op">(</span><span class="va">projection</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">bbox</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">res</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">dim</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getRasterCount</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getDescription</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">setDescription</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getBlockSize</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getOverviewCount</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">buildOverviews</span><span class="op">(</span><span class="va">resampling</span>, <span class="va">levels</span>, <span class="va">bands</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getDataTypeName</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getNoDataValue</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">setNoDataValue</span><span class="op">(</span><span class="va">band</span>, <span class="va">nodata_value</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">deleteNoDataValue</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getUnitType</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">setUnitType</span><span class="op">(</span><span class="va">band</span>, <span class="va">unit_type</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getScale</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">setScale</span><span class="op">(</span><span class="va">band</span>, <span class="va">scale</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getOffset</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">setOffset</span><span class="op">(</span><span class="va">band</span>, <span class="va">offset</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getRasterColorInterp</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">setRasterColorInterp</span><span class="op">(</span><span class="va">band</span>, <span class="va">col_interp</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getMinMax</span><span class="op">(</span><span class="va">band</span>, <span class="va">approx_ok</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getStatistics</span><span class="op">(</span><span class="va">band</span>, <span class="va">approx_ok</span>, <span class="va">force</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">clearStatistics</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getHistogram</span><span class="op">(</span><span class="va">band</span>, <span class="va">min</span>, <span class="va">max</span>, <span class="va">num_buckets</span>, <span class="va">incl_out_of_range</span>, <span class="va">approx_ok</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getDefaultHistogram</span><span class="op">(</span><span class="va">band</span>, <span class="va">force</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getMetadata</span><span class="op">(</span><span class="va">band</span>, <span class="va">domain</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getMetadataItem</span><span class="op">(</span><span class="va">band</span>, <span class="va">mdi_name</span>, <span class="va">domain</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">setMetadataItem</span><span class="op">(</span><span class="va">band</span>, <span class="va">mdi_name</span>, <span class="va">mdi_value</span>, <span class="va">domain</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getMetadataDomainList</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="va">band</span>, <span class="va">xoff</span>, <span class="va">yoff</span>, <span class="va">xsize</span>, <span class="va">ysize</span>, <span class="va">out_xsize</span>, <span class="va">out_ysize</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span><span class="va">band</span>, <span class="va">xoff</span>, <span class="va">yoff</span>, <span class="va">xsize</span>, <span class="va">ysize</span>, <span class="va">rasterData</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">fillRaster</span><span class="op">(</span><span class="va">value</span>, <span class="va">ivalue</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getColorTable</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getPaletteInterp</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">setColorTable</span><span class="op">(</span><span class="va">band</span>, <span class="va">col_tbl</span>, <span class="va">palette_interp</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getDefaultRAT</span><span class="op">(</span><span class="va">band</span><span class="op">)</span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">setDefaultRAT</span><span class="op">(</span><span class="va">band</span>, <span class="va">df</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">flushCache</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">getChecksum</span><span class="op">(</span><span class="va">band</span>, <span class="va">xoff</span>, <span class="va">yoff</span>, <span class="va">xsize</span>, <span class="va">ysize</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>

    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    


<p><code>new(GDALRaster, filename, read_only)</code>
Constructor. Returns an object of class <code>GDALRaster</code>.</p>
<p><code>$getFilename()</code>
Returns a character string containing the <code>filename</code> associated with this
<code>GDALRaster</code> object (<code>filename</code> originally used to open the dataset).</p>
<p><code>$open(read_only)</code>
(Re-)opens the raster dataset on the existing filename. Use this method to
open a dataset that has been closed using <code>$close()</code>. May be used to
re-open a dataset with a different read/write access (<code>read_only</code> set to
<code>TRUE</code> or <code>FALSE</code>). The method will first close an open dataset, so it is
not required to call <code>$close()</code> explicitly in this case.
No return value, called for side effects.</p>
<p><code>$isOpen()</code>
Returns logical indicating whether the associated raster dataset is open.</p>
<p><code>$getFileList()</code>
Returns a character vector of files believed to be part of this dataset.
If it returns an empty string (<code>""</code>) it means there is believed to be no
local file system files associated with the dataset (e.g., a virtual file
system). The returned filenames will normally be relative or absolute
paths depending on the path used to originally open the dataset.</p>
<p><code>$info()</code>
Prints various information about the raster dataset to the console (no
return value, called for that side effect only).
Equivalent to the output of the <code class="command">gdalinfo</code> command-line utility
(<code class="command">gdalinfo -norat -noct filename</code>). Intended here as an
informational convenience function.</p>
<p><code>$infoAsJSON()</code>
Returns information about the raster dataset as a JSON-formatted string.
Contains full output of the <code class="command">gdalinfo</code> command-line utility
(<code class="command">gdalinfo -json -stats -hist filename</code>).</p>
<p><code>$getDriverShortName()</code>
Returns the short name of the raster format driver
(e.g., "HFA").</p>
<p><code>$getDriverLongName()</code>
Returns the long name of the raster format driver
(e.g., "Erdas Imagine Images (.img)").</p>
<p><code>$getRasterXSize()</code>
Returns the number of pixels along the x dimension.</p>
<p><code>$getRasterYSize()</code>
Returns the number of pixels along the y dimension.</p>
<p><code>$getGeoTransform()</code>
Returns the affine transformation coefficients for transforming between
pixel/line raster space (column/row) and projection coordinate space
(geospatial x/y). The return value is a numeric vector of length six.
See <a href="https://gdal.org/tutorials/geotransforms_tut.html" class="external-link">https://gdal.org/tutorials/geotransforms_tut.html</a>
for details of the affine transformation. <em>With 1-based indexing
in R</em>, the geotransform vector contains (in map units of the raster spatial
reference system):</p><table class="table table"><tr><td>GT[1]</td><td>x-coordinate of upper-left corner of the upper-left pixel</td></tr><tr><td>GT[2]</td><td>x-component of pixel width</td></tr><tr><td>GT[3]</td><td>row rotation (zero for north-up raster)</td></tr><tr><td>GT[4]</td><td>y-coordinate of upper-left corner of the upper-left pixel</td></tr><tr><td>GT[5]</td><td>column rotation (zero for north-up raster)</td></tr><tr><td>GT[6]</td><td>y-component of pixel height (negative for north-up raster)</td></tr></table><p><code>$setGeoTransform(transform)</code>
Sets the affine transformation coefficients on this dataset.
<code>transform</code> is a numeric vector of length six.
Returns logical <code>TRUE</code> on success or <code>FALSE</code> if the geotransform
could not be set.</p>
<p><code>$getProjectionRef()</code>
Returns the coordinate reference system of the raster as an OGC WKT
format string.
An empty string is returned when a projection definition is not available.</p>
<p><code>$setProjection(projection)</code>
Sets the projection reference for this dataset.
<code>projection</code> is a string in OGC WKT format.
Returns logical <code>TRUE</code> on success or <code>FALSE</code> if the projection
could not be set.</p>
<p><code>$bbox()</code>
Returns a numeric vector of length four containing the bounding box
(xmin, ymin, xmax, ymax) assuming this is a north-up raster.</p>
<p><code>$res()</code>
Returns a numeric vector of length two containing the resolution
(pixel width, pixel height as positive values) assuming this is a north-up
raster.</p>
<p><code>$dim()</code>
Returns an integer vector of length three containing the raster dimensions.
Equivalent to:
<code>c(ds$getRasterXSize(), ds$getRasterYSize(), ds$getRasterCount())</code></p>
<p><code>$getRasterCount()</code>
Returns the number of raster bands on this dataset. For the methods
described below that operate on individual bands, the <code>band</code>
argument is the integer band number (1-based).</p>
<p><code>$getDescription(band)</code>
Returns a string containing the description for <code>band</code>. An empty
string is returned if no description is set for the band.
(Setting <code>band = 0</code> will return the dataset-level description.)</p>
<p><code>$setDescription(band, desc)</code>
Sets a description for <code>band</code>. <code>desc</code> is the character string
to set. No return value.</p>
<p><code>$getBlockSize(band)</code>
Returns an integer vector of length two (xsize, ysize) containing the
"natural" block size of <code>band</code>. GDAL has a concept of the natural block
size of rasters so that applications can organize data access efficiently
for some file formats. The natural block size is the block size that is
most efficient for accessing the format. For many formats this is simply a
whole row in which case block xsize is the same as <code>$getRasterXSize()</code>
and block ysize is 1. However, for tiled images block size will typically
be the tile size. Note that the X and Y block sizes don't have to divide
the image size evenly, meaning that right and bottom edge blocks may be
incomplete.</p>
<p><code>$getOverviewCount(band)</code>
Returns the number of overview layers (a.k.a. pyramids) available for
<code>band</code>.</p>
<p><code>$buildOverviews(resampling, levels, bands)</code>
Build one or more raster overview images using the specified downsampling
algorithm.
<code>resampling</code> is one of "AVERAGE", "AVERAGE_MAGPHASE", "RMS",
"BILINEAR", "CUBIC", "CUBICSPLINE", "GAUSS", "LANCZOS", "MODE", "NEAREST",
or "NONE".
<code>levels</code> is an integer vector giving the list of overview decimation
factors to build (e.g., <code>c(2, 4, 8)</code>), or <code>0</code> to delete all overviews
(at least for external overviews (.ovr) and GTiff internal overviews).
<code>bands</code> is an integer vector giving a list of band numbers to build
overviews for, or <code>0</code> to build for all bands.
Note that for GTiff, overviews will be created internally if the dataset is
open in update mode, while external overviews (.ovr) will be created if the
dataset is open read-only.
External overviews created in GTiff format may be compressed using the
<code>COMPRESS_OVERVIEW</code> configuration option. All compression methods supported
by the GTiff driver are available
(e.g., <code>set_config_option("COMPRESS_OVERVIEW", "LZW")</code>).
Since GDAL 3.6, <code>COMPRESS_OVERVIEW</code> is honoured when creating internal
overviews of GTiff files. The <a href="https://gdal.org/programs/gdaladdo.html" class="external-link">GDAL documentation for <code>gdaladdo</code></a> command-line utility
describes additional configuration for overview building.
See also <code><a href="set_config_option.html">set_config_option()</a></code>. No return value, called for side effects.</p>
<p><code>$getDataTypeName(band)</code>
Returns the name of the pixel data type for <code>band</code>. The possible data
types are:</p><table class="table table"><tr><td>Unknown</td><td>Unknown or unspecified type</td></tr><tr><td>Byte</td><td>8-bit unsigned integer</td></tr><tr><td>Int8</td><td>8-bit signed integer (GDAL &gt;= 3.7)</td></tr><tr><td>UInt16</td><td>16-bit unsigned integer</td></tr><tr><td>Int16</td><td>16-bit signed integer</td></tr><tr><td>UInt32</td><td>32-bit unsigned integer</td></tr><tr><td>Int32</td><td>32-bit signed integer</td></tr><tr><td>UInt64</td><td>64-bit unsigned integer (GDAL &gt;= 3.5)</td></tr><tr><td>Int64</td><td>64-bit signed integer (GDAL &gt;= 3.5)</td></tr><tr><td>Float32</td><td>32-bit floating point</td></tr><tr><td>Float64</td><td>64-bit floating point</td></tr><tr><td>CInt16</td><td>Complex Int16</td></tr><tr><td>CInt32</td><td>Complex Int32</td></tr><tr><td>CFloat32</td><td>Complex Float32</td></tr><tr><td>CFloat64</td><td>Complex Float64</td></tr></table><p>Some raster formats including GeoTIFF ("GTiff") and Erdas Imagine .img
("HFA") support sub-byte data types. Rasters can be created with these
data types by specifying the "NBITS=n" creation option where n=1...7 for
GTiff or n=1/2/4 for HFA. In these cases, <code>$getDataTypeName()</code> reports
the apparent type <code>"Byte"</code>. GTiff also supports n=9...15 (UInt16 type) and
n=17...31 (UInt32 type), and n=16 is accepted for Float32 to generate
half-precision floating point values.</p>
<p><code>$getNoDataValue(band)</code>
Returns the nodata value for <code>band</code> if one exists.
This is generally a special value defined to mark pixels that are not
valid data. <code>NA</code> is returned if a nodata value is not defined for
<code>band</code>. Not all raster formats support a designated nodata value.</p>
<p><code>$setNoDataValue(band, nodata_value)</code>
Sets the nodata value for <code>band</code>.
<code>nodata_value</code> is a numeric value to be defined as the nodata marker.
Depending on the format, changing the nodata value may or may not have an
effect on the pixel values of a raster that has just been created (often
not). It is thus advised to call <code>$fillRaster()</code> explicitly if the
intent is to initialize the raster to the nodata value. In any case,
changing an existing nodata value, when one already exists on an initialized
dataset, has no effect on the pixels whose values matched the previous
nodata value.
Returns logical <code>TRUE</code> on success or <code>FALSE</code> if the nodata value
could not be set.</p>
<p><code>$deleteNoDataValue(band)</code>
Removes the nodata value for <code>band</code>.
This affects only the definition of the nodata value for raster formats
that support one (does not modify pixel values). No return value.
An error is raised if the nodata value cannot be removed.</p>
<p><code>$getUnitType(band)</code>
Returns the name of the unit type of the pixel values for <code>band</code>
(e.g., "m" or "ft").
An empty string <code>""</code> is returned if no units are available.</p>
<p><code>$setUnitType(band, unit_type)</code>
Sets the name of the unit type of the pixel values for <code>band</code>.
<code>unit_type</code> should be one of empty string <code>""</code> (the default indicating it is
unknown), "m" indicating meters, or "ft" indicating feet, though other
nonstandard values are allowed.
Returns logical <code>TRUE</code> on success or <code>FALSE</code> if the unit type
could not be set.</p>
<p><code>$getScale(band)</code>
Returns the pixel value scale (units value = (raw value * scale) + offset)
for <code>band</code>.
This value (in combination with the <code>$getOffset()</code> value) can be used to
transform raw pixel values into the units returned by <code>$getUnitType()</code>.
Returns <code>NA</code> if a scale value is not defined for this <code>band</code>.</p>
<p><code>$setScale(band, scale)</code>
Sets the pixel value scale (units value = (raw value * scale) + offset)
for <code>band</code>. Many raster formats do not implement this method.
Returns logical <code>TRUE</code> on success or <code>FALSE</code> if the scale could
not be set.</p>
<p><code>$getOffset(band)</code>
Returns the pixel value offset (units value = (raw value * scale) + offset)
for <code>band</code>.
This value (in combination with the <code>$getScale()</code> value) can be used to
transform raw pixel values into the units returned by <code>$getUnitType()</code>.
Returns <code>NA</code> if an offset value is not defined for this <code>band</code>.</p>
<p><code>$setOffset(band, offset)</code>
Sets the pixel value offset (units value = (raw value * scale) + offset)
for <code>band</code>. Many raster formats do not implement this method.
Returns logical <code>TRUE</code> on success or <code>FALSE</code> if the offset could
not be set.</p>
<p><code>$getRasterColorInterp(band)</code>
Returns a string describing the color interpretation for <code>band</code>.
The color interpretation values and their meanings are:</p><table class="table table"><tr><td>Undefined</td><td>Undefined</td></tr><tr><td>Gray</td><td>Grayscale</td></tr><tr><td>Palette</td><td>Paletted (see associated color table)</td></tr><tr><td>Red</td><td>Red band of RGBA image</td></tr><tr><td>Green</td><td>Green band of RGBA image</td></tr><tr><td>Blue</td><td>Blue band of RGBA image</td></tr><tr><td>Alpha</td><td>Alpha (0=transparent, 255=opaque)</td></tr><tr><td>Hue</td><td>Hue band of HLS image</td></tr><tr><td>Saturation</td><td>Saturation band of HLS image</td></tr><tr><td>Lightness</td><td>Lightness band of HLS image</td></tr><tr><td>Cyan</td><td>Cyan band of CMYK image</td></tr><tr><td>Magenta</td><td>Magenta band of CMYK image</td></tr><tr><td>Yellow</td><td>Yellow band of CMYK image</td></tr><tr><td>Black</td><td>Black band of CMYK image</td></tr><tr><td>YCbCr_Y</td><td>Y Luminance</td></tr><tr><td>YCbCr_Cb</td><td>Cb Chroma</td></tr><tr><td>YCbCr_Cr</td><td>Cr Chroma</td></tr></table><p><code>$setRasterColorInterp(band, col_interp)</code>
Sets the color interpretation for <code>band</code>. See above for the list of
valid values for <code>col_interp</code> (passed as a string).</p>
<p><code>$getMinMax(band, approx_ok)</code>
Returns a numeric vector of length two containing the min/max values for
<code>band</code>. If <code>approx_ok</code> is <code>TRUE</code> and the raster format knows these
values intrinsically then those values will be returned. If that doesn't
work, a subsample of blocks will be read to get an approximate min/max. If
the band has a nodata value it will be excluded from the minimum and
maximum. If <code>approx_ok</code> is <code>FALSE</code>, then all pixels will be read and
used to compute an exact range.</p>
<p><code>$getStatistics(band, approx_ok, force)</code>
Returns a numeric vector of length four containing the minimum, maximum,
mean and standard deviation of pixel values in <code>band</code> (excluding
nodata pixels). Some raster formats will cache statistics allowing fast
retrieval after the first request.</p>
<p><code>approx_ok</code>:</p><ul><li><p><code>TRUE</code>: Approximate statistics are sufficient, in which case overviews
or a subset of raster tiles may be used in computing the statistics.</p></li>
<li><p><code>FALSE</code>: All pixels will be read and used to compute statistics (if
computation is forced).</p></li>
</ul><p><code>force</code>:</p><ul><li><p><code>TRUE</code>: The raster will be scanned to compute statistics. Once computed,
statistics will generally be “set” back on the raster band if the format
supports caching statistics.
(Note: <code>ComputeStatistics()</code> in the GDAL API is called automatically here.
This is a change in the behavior of <code>GetStatistics()</code> in the API, to a
definitive <code>force</code>.)</p></li>
<li><p><code>FALSE</code>: Results will only be returned if it can be done quickly (i.e.,
without scanning the raster, typically by using pre-existing
STATISTICS_xxx metadata items). <code>NA</code>s will be returned if statistics
cannot be obtained quickly.</p></li>
</ul><p><code>$clearStatistics()</code>
Clear statistics. Only implemented for now in PAM supported datasets
(Peristable Auxiliary Metadata via .aux.xml file). GDAL &gt;= 3.2.</p>
<p><code>$getHistogram(band, min, max, num_buckets, incl_out_of_range, 
  approx_ok)</code><br>
Computes raster histogram for <code>band</code>. <code>min</code> is the lower bound of
the histogram. <code>max</code> is the upper bound of the histogram.
<code>num_buckets</code> is the number of buckets to use (bucket size is
<code>(max - min) / num_buckets</code>).
<code>incl_out_of_range</code> is a logical scalar: if <code>TRUE</code> values below the
histogram range will be mapped into the first bucket and values above will
be mapped into the last bucket, if <code>FALSE</code> out of range values are discarded.
<code>approx_ok</code> is a logical scalar: <code>TRUE</code> if an approximate histogram is
OK (generally faster), or <code>FALSE</code> for an exactly computed histogram.
Returns the histogram as a numeric vector of length <code>num_buckets</code>.</p>
<p><code>$getDefaultHistogram(band, force)</code>
Returns a default raster histogram for <code>band</code>. In the GDAL API, this
method is overridden by derived classes (such as GDALPamRasterBand,
VRTDataset, HFADataset...) that may be able to fetch efficiently an already
stored histogram. <code>force</code> is a logical scalar: <code>TRUE</code> to force the
computation of a default histogram; or if <code>FALSE</code> and no default histogram
is available, a warning is emitted and the returned list has a 0-length
histogram vector.
Returns a list of length four containing named elements <code>$min</code> (lower
bound), <code>$max</code> (upper bound), <code>$num_buckets</code> (number of buckets), and
<code>$histogram</code> (a numeric vector of length <code>num_buckets</code>).</p>
<p><code>$getMetadata(band, domain)</code>
Returns a character vector of all metadata <code>name=value</code> pairs that exist in
the specified <code>domain</code>, or <code>""</code> (empty string) if there are no
metadata items in <code>domain</code> (metadata in the context of the GDAL
Raster Data Model: <a href="https://gdal.org/user/raster_data_model.html" class="external-link">https://gdal.org/user/raster_data_model.html</a>).
Set <code>band = 0</code> to retrieve dataset-level metadata, or to an integer
band number to retrieve band-level metadata.
Set <code>domain = ""</code> (empty string) to retrieve metadata in the
default domain.</p>
<p><code>$getMetadataItem(band, mdi_name, domain)</code>
Returns the value of a specific metadata item named <code>mdi_name</code> in the
specified <code>domain</code>, or <code>""</code> (empty string) if no matching item
is found.
Set <code>band = 0</code> to retrieve dataset-level metadata, or to an integer
band number to retrieve band-level metadata.
Set <code>domain = ""</code> (empty string) to retrieve an item in the
default domain.</p>
<p><code>$setMetadataItem(band, mdi_name, mdi_value, domain)</code>
Sets the value (<code>mdi_value</code>) of a specific metadata item named
<code>mdi_name</code> in the specified <code>domain</code>.
Set <code>band = 0</code> to set dataset-level metadata, or to an integer
band number to set band-level metadata.
Set <code>domain = ""</code> (empty string) to set an item in the default domain.</p>
<p><code>$getMetadataDomainList(band)</code>
Returns a character vector of metadata domains or <code>""</code> (empty string).
Set <code>band = 0</code> to retrieve dataset-level domains, or to an integer
band number to retrieve band-level domains.</p>
<p><code>$read(band, xoff, yoff, xsize, ysize, out_xsize, out_ysize)</code>
Reads a region of raster data from <code>band</code>. The method takes care of
pixel decimation / replication if the output size
(<code>out_xsize * out_ysize</code>) is different than the size of the region
being accessed (<code>xsize * ysize</code>).
<code>xoff</code> is the pixel (column) offset to the top left corner of the
region of the band to be accessed (zero to start from the left side).
<code>yoff</code> is the line (row) offset to the top left corner of the region of
the band to be accessed (zero to start from the top).
<em>Note that raster row/column offsets use 0-based indexing.</em>
<code>xsize</code> is the width in pixels of the region to be accessed.
<code>ysize</code> is the height in pixels of the region to be accessed.
<code>out_xsize</code> is the width of the output array into which the desired
region will be read (typically the same value as xsize).
<code>out_ysize</code> is the height of the output array into which the desired
region will be read (typically the same value as ysize).
Returns a numeric or complex vector containing the values that were read.
It is organized in left to right, top to bottom pixel order.
<code>NA</code> will be returned in place of the nodata value if the
raster dataset has a nodata value defined for this band.
Data are read as R integer type when possible for the raster data type
(Byte, Int8, Int16, UInt16, Int32), otherwise as type double (UInt32,
Float32, Float64).
No rescaling of the data is performed (see <code>$getScale()</code> and
<code>$getOffset()</code> above).
An error is raised if the read operation fails.</p>
<p><code>$write(band, xoff, yoff, xsize, ysize, rasterData)</code>
Writes a region of raster data to <code>band</code>.
<code>xoff</code> is the pixel (column) offset to the top left corner of the
region of the band to be accessed (zero to start from the left side).
<code>yoff</code> is the line (row) offset to the top left corner of the region of
the band to be accessed (zero to start from the top).
<em>Note that raster row/column offsets use 0-based indexing.</em>
<code>xsize</code> is the width in pixels of the region to write.
<code>ysize</code> is the height in pixels of the region to write.
<code>rasterData</code> is a numeric or complex vector containing values to write.
It is organized in left to right, top to bottom pixel order. <code>NA</code> in
<code>rasterData</code> should be replaced with a suitable nodata value prior to
writing (see <code>$getNoDataValue()</code> and <code>$setNoDataValue()</code> above).
An error is raised if the operation fails (no return value).</p>
<p><code>$getColorTable(band)</code>
Returns the color table associated with <code>band</code>, or <code>NULL</code> if
there is no associated color table. The color table is returned as an
integer matrix with five columns. To associate a color with a raster pixel,
the pixel value is used as a subscript into the color table. This means that
the colors are always applied starting at zero and ascending
(see <a href="https://gdal.org/user/raster_data_model.html#color-table" class="external-link">GDAL
Color Table</a>).
Column 1 contains the pixel values. Interpretation of columns 2:5 depends
on the value of <code>$getPaletteInterp()</code> (see below). For "RGB", columns 2:5
contain red, green, blue, alpha as 0-255 integer values.</p>
<p><code>$getPaletteInterp(band)</code>
If <code>band</code> has an associated color table, this method returns a
character string with the palette interpretation for columns 2:5 of the
table. An empty string (<code>""</code>) is returned if <code>band</code> does not have
an associated color table. The palette interpretation values and their
meanings are:</p><table class="table table"><tr><td>Gray</td><td>column 2 contains grayscale values (columns 3:5 unused)</td></tr><tr><td>RGB</td><td>columns 2:5 contain red, green, blue, alpha</td></tr><tr><td>CMYK</td><td>columns 2:5 contain cyan, magenta, yellow, black</td></tr><tr><td>HLS</td><td>columns 2:4 contain hue, lightness, saturation (column 5 unused)</td></tr></table><p><code>$setColorTable(band, col_tbl, palette_interp)</code>
Sets the raster color table for <code>band</code>
(see <a href="https://gdal.org/user/raster_data_model.html#color-table" class="external-link">GDAL
Color Table</a>).
<code>col_tbl</code> is an integer matrix or data frame with either four or five
columns (see <code>$getColorTable()</code> above). Column 1 contains the pixel
values. Valid values are integers 0 and larger (note that GTiff format
supports color tables only for Byte and UInt16 bands). Negative values
will be skipped with a warning emitted. Interpretation of columns 2:5
depends on the value of <code>$getPaletteInterp()</code> (see above). For "RGB",
columns 2:4 contain red, green, blue as 0-255 integer values, and an
optional column 5 contains alpha transparency values (defaults to 255
opaque).
<code>palette_interp</code> is one of "Gray", "RGB", "CMYK" or "HLS" (see
<code>$getPaletteInterp()</code> above).
Returns logical <code>TRUE</code> on success or <code>FALSE</code> if the color table
could not be set.</p>
<p><code>$getDefaultRAT(band)</code>
Returns the Raster Attribute Table for <code>band</code> as a data frame,
or <code>NULL</code> if there is no associated Raster Attribute Table. See the
stand-alone function <code><a href="buildRAT.html">buildRAT()</a></code> for details of the Raster Attribute Table
format.</p>
<p><code>$setDefaultRAT(band, df)</code>
Sets a default Raster Attribute Table for <code>band</code> from data frame <code>df</code>.
The input data frame will be checked for attribute <code>"GDALRATTableType"</code>
which can have values of <code>"thematic"</code> or <code>"athematic"</code> (for continuous data).
Columns of the data frame will be checked for attribute <code>"GFU"</code> (for "GDAL
field usage"). If the <code>"GFU"</code> attribute is missing, a value of <code>"Generic"</code>
will be used (corresponding to <code>GFU_Generic</code> in the GDAL API, for general
purpose field). Columns with other, specific field usage values should
generally be present in <code>df</code>, such as fields containing the set of unique
(discrete) pixel values (GFU <code>"MinMax"</code>), pixel counts (GFU <code>"PixelCount"</code>),
class names (GFU <code>"Name"</code>), color values (GFUs <code>"Red"</code>, "<code>Green"</code>, <code>"Blue"</code>),
etc. The data frame will also be checked for attributes <code>"Row0Min"</code> and
<code>"BinSize"</code> which can have numeric values that describe linear binning.
See the stand-alone function <code><a href="buildRAT.html">buildRAT()</a></code> for details of the GDAL Raster
Attribute Table format and its representation as data frame.</p>
<p><code>$flushCache()</code>
Flush all write cached data to disk. Any raster data written via GDAL calls,
but buffered internally will be written to disk. Using this method does not
preclude calling <code>$close()</code> to properly close the dataset and ensure that
important data not addressed by <code>$flushCache()</code> is written in the file
(see also <code>$open()</code> above). No return value, called for side effect.</p>
<p><code>$getChecksum(band, xoff, yoff, xsize, ysize)</code>
Returns a 16-bit integer (0-65535) checksum from a region of raster data
on <code>band</code>.
Floating point data are converted to 32-bit integer so decimal portions of
such raster data will not affect the checksum. Real and imaginary
components of complex bands influence the result.
<code>xoff</code> is the pixel (column) offset of the window to read.
<code>yoff</code> is the line (row) offset of the window to read.
<em>Raster row/column offsets use 0-based indexing.</em>
<code>xsize</code> is the width in pixels of the window to read.
<code>ysize</code> is the height in pixels of the window to read.</p>
<p><code>$close()</code>
Closes the GDAL dataset (no return value, called for side effects).
Calling <code>$close()</code> results in proper cleanup, and flushing of any
pending writes. Forgetting to close a dataset opened in update mode on some
formats such as GTiff could result in being unable to open it afterwards.
The <code>GDALRaster</code> object is still available after calling <code>$close()</code>.
The dataset can be re-opened on the existing <code>filename</code> with
<code>$open(read_only=TRUE)</code> or <code>$open(read_only=FALSE)</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Package overview in <code><a href="gdalraster-package.html">help("gdalraster-package")</a></code></p>
<p><code><a href="../articles/raster-api-tutorial.html">vignette("raster-api-tutorial")</a></code></p>
<p><code><a href="read_ds.html">read_ds()</a></code> convenience wrapper for <code>GDALRaster$read()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">lcp_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/storm_lake.lcp"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALRaster</span>, <span class="va">lcp_file</span>, read_only<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## print information about the dataset to the console</span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Driver: LCP/FARSITE v.4 Landscape File (.lcp)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Files: /home/runner/work/_temp/Library/gdalraster/extdata/storm_lake.lcp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        /home/runner/work/_temp/Library/gdalraster/extdata/storm_lake.prj</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Size is 143, 107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coordinate System is:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PROJCRS["NAD83 / UTM zone 12N",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     BASEGEOGCRS["NAD83",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         DATUM["North American Datum 1983",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ELLIPSOID["GRS 1980",6378137,298.257222101,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 LENGTHUNIT["metre",1]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ID["EPSG",6269]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         PRIMEM["Greenwich",0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ANGLEUNIT["Degree",0.0174532925199433]]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CONVERSION["UTM zone 12N",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         METHOD["Transverse Mercator",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ID["EPSG",9807]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         PARAMETER["Latitude of natural origin",0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ANGLEUNIT["Degree",0.0174532925199433],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ID["EPSG",8801]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         PARAMETER["Longitude of natural origin",-111,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ANGLEUNIT["Degree",0.0174532925199433],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ID["EPSG",8802]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         PARAMETER["Scale factor at natural origin",0.9996,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             SCALEUNIT["unity",1],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ID["EPSG",8805]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         PARAMETER["False easting",500000,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             LENGTHUNIT["metre",1],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ID["EPSG",8806]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         PARAMETER["False northing",0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             LENGTHUNIT["metre",1],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ID["EPSG",8807]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         ID["EPSG",16012]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CS[Cartesian,2],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         AXIS["easting",east,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ORDER[1],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             LENGTHUNIT["metre",1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 ID["EPSG",9001]]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         AXIS["northing",north,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ORDER[2],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             LENGTHUNIT["metre",1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 ID["EPSG",9001]]]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data axis to CRS axis mapping: 1,2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Origin = (323476.071970863151364,5105081.983031376264989)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pixel Size = (30.000000000000000,-30.000000000000000)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   DESCRIPTION=LCP file created by GDAL.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   LATITUDE=46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   LINEAR_UNIT=Meters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Corner Coordinates:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Upper Left  (  323476.072, 5105081.983) (113d16'58.40"W, 46d 4'35.44"N)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lower Left  (  323476.072, 5101871.983) (113d16'54.12"W, 46d 2'51.51"N)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Upper Right (  327766.072, 5105081.983) (113d13'38.83"W, 46d 4'39.38"N)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lower Right (  327766.072, 5101871.983) (113d13'34.65"W, 46d 2'55.45"N)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Center      (  325621.072, 5103476.983) (113d15'16.50"W, 46d 3'45.46"N)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 1 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Elevation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ELEVATION_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ELEVATION_MAX=3046</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ELEVATION_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ELEVATION_NUM_CLASSES=-1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ELEVATION_UNIT=0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ELEVATION_UNIT_NAME=Meters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 2 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Slope</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     SLOPE_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     SLOPE_MAX=54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     SLOPE_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     SLOPE_NUM_CLASSES=53</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     SLOPE_UNIT=0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     SLOPE_UNIT_NAME=Degrees</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 3 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Aspect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ASPECT_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ASPECT_MAX=359</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ASPECT_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ASPECT_NUM_CLASSES=-1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ASPECT_UNIT=2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ASPECT_UNIT_NAME=Azimuth degrees</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 4 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Fuel models</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_MAX=183</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_NUM_CLASSES=12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_OPTION=0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_OPTION_DESC=no custom models AND no conversion file needed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     FUEL_MODEL_VALUES=0,98,99,101,102,121,122,123,142,162,165,181,183</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 5 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Canopy cover</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_COV_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_COV_MAX=75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_COV_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_COV_NUM_CLASSES=8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_COV_UNIT=1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_COV_UNIT_NAME=Percent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 6 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Canopy height</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_HT_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_HT_MAX=390</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_HT_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_HT_NUM_CLASSES=8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_HT_UNIT=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CANOPY_HT_UNIT_NAME=Meters x 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 7 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Canopy base height</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBH_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBH_MAX=100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBH_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBH_NUM_CLASSES=22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBH_UNIT=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBH_UNIT_NAME=Meters x 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Band 8 Block=143x1 Type=Int16, ColorInterp=Undefined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description = Canopy bulk density</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Metadata:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBD_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBD_MAX=34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBD_MIN=-9999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBD_NUM_CLASSES=15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBD_UNIT=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CBD_UNIT_NAME=kg/m^3 x 100</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## retrieve the raster format name</span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getDriverShortName</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "LCP"</span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getDriverLongName</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "FARSITE v.4 Landscape File (.lcp)"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## retrieve a list of files composing the dataset</span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getFileList</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/home/runner/work/_temp/Library/gdalraster/extdata/storm_lake.lcp"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "/home/runner/work/_temp/Library/gdalraster/extdata/storm_lake.prj"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## retrieve dataset parameters</span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getRasterXSize</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 143</span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getRasterYSize</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 107</span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getGeoTransform</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  323476.1      30.0       0.0 5105082.0       0.0     -30.0</span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getProjectionRef</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "PROJCS[\"NAD83 / UTM zone 12N\",GEOGCS[\"NAD83\",DATUM[\"North_American_Datum_1983\",SPHEROID[\"GRS 1980\",6378137,298.257222101,AUTHORITY[\"EPSG\",\"7019\"]],AUTHORITY[\"EPSG\",\"6269\"]],PRIMEM[\"Greenwich\",0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-111],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH]]"</span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getRasterCount</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 8</span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">bbox</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  323476.1 5101872.0  327766.1 5105082.0</span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">res</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 30 30</span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">dim</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 143 107   8</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## retrieve some band-level parameters</span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getDescription</span><span class="op">(</span>band<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Elevation"</span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getBlockSize</span><span class="op">(</span>band<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 143   1</span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getOverviewCount</span><span class="op">(</span>band<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getDataTypeName</span><span class="op">(</span>band<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Int16"</span>
<span class="r-in"><span><span class="co"># LCP format does not support an intrinsic nodata value so this returns NA:</span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getNoDataValue</span><span class="op">(</span>band<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## LCP driver reports several dataset- and band-level metadata</span></span></span>
<span class="r-in"><span><span class="co">## see the format description at https://gdal.org/drivers/raster/lcp.html</span></span></span>
<span class="r-in"><span><span class="co">## set band=0 to retrieve dataset-level metadata</span></span></span>
<span class="r-in"><span><span class="co">## set domain="" (empty string) for the default metadata domain</span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getMetadata</span><span class="op">(</span>band<span class="op">=</span><span class="fl">0</span>, domain<span class="op">=</span><span class="st">""</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "DESCRIPTION=LCP file created by GDAL."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "LATITUDE=46"                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "LINEAR_UNIT=Meters"                   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## retrieve metadata for a band as a vector of name=value pairs</span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getMetadata</span><span class="op">(</span>band<span class="op">=</span><span class="fl">4</span>, domain<span class="op">=</span><span class="st">""</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "FUEL_MODEL_FILE=/netapp/sharedwebfs1/shared/landfire/public/temp_q8dTbIJ4w6Qi36Omkzk0/LCP_LF2022_FBFM40_220_CONUS/temp/merged_modified.tif"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "FUEL_MODEL_MAX=183"                                                                                                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "FUEL_MODEL_MIN=-9999"                                                                                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "FUEL_MODEL_NUM_CLASSES=12"                                                                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "FUEL_MODEL_OPTION=0"                                                                                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "FUEL_MODEL_OPTION_DESC=no custom models AND no conversion file needed"                                                                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] "FUEL_MODEL_VALUES=0,98,99,101,102,121,122,123,142,162,165,181,183"                                                                         </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## retrieve the value of a specific metadata item</span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getMetadataItem</span><span class="op">(</span>band<span class="op">=</span><span class="fl">2</span>, mdi_name<span class="op">=</span><span class="st">"SLOPE_UNIT_NAME"</span>, domain<span class="op">=</span><span class="st">""</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Degrees"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read one row of pixel values from band 1 (elevation)</span></span></span>
<span class="r-in"><span><span class="co">## raster row/column index are 0-based</span></span></span>
<span class="r-in"><span><span class="co">## the upper left corner is the origin</span></span></span>
<span class="r-in"><span><span class="co">## read the tenth row:</span></span></span>
<span class="r-in"><span><span class="va">ncols</span> <span class="op">&lt;-</span> <span class="va">ds</span><span class="op">$</span><span class="fu">getRasterXSize</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rowdata</span> <span class="op">&lt;-</span> <span class="va">ds</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span>band<span class="op">=</span><span class="fl">1</span>, xoff<span class="op">=</span><span class="fl">0</span>, yoff<span class="op">=</span><span class="fl">9</span>, </span></span>
<span class="r-in"><span>                    xsize<span class="op">=</span><span class="va">ncols</span>, ysize<span class="op">=</span><span class="fl">1</span>, </span></span>
<span class="r-in"><span>                    out_xsize<span class="op">=</span><span class="va">ncols</span>, out_ysize<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rowdata</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -9999 -9999 -9999  2456  2466  2479</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## create a new raster using lcp_file as a template</span></span></span>
<span class="r-in"><span><span class="va">new_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/"</span>, <span class="st">"storml_newdata.tif"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="rasterFromRaster.html">rasterFromRaster</a></span><span class="op">(</span>srcfile <span class="op">=</span> <span class="va">lcp_file</span>,</span></span>
<span class="r-in"><span>                 dstfile <span class="op">=</span> <span class="va">new_file</span>,</span></span>
<span class="r-in"><span>                 nbands <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                 dtName <span class="op">=</span> <span class="st">"Byte"</span>,</span></span>
<span class="r-in"><span>                 init <span class="op">=</span> <span class="op">-</span><span class="fl">9999</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Initializing destination raster...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done.</span>
<span class="r-in"><span><span class="va">ds_new</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALRaster</span>, <span class="va">new_file</span>, read_only<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## write random values to all pixels</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ncols</span> <span class="op">&lt;-</span> <span class="va">ds_new</span><span class="op">$</span><span class="fu">getRasterXSize</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">nrows</span> <span class="op">&lt;-</span> <span class="va">ds_new</span><span class="op">$</span><span class="fu">getRasterYSize</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">row</span> <span class="kw">in</span> <span class="fl">0</span><span class="op">:</span><span class="op">(</span><span class="va">nrows</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">rowdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">ncols</span>, <span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">ds_new</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span>band<span class="op">=</span><span class="fl">1</span>, xoff<span class="op">=</span><span class="fl">0</span>, yoff<span class="op">=</span><span class="va">row</span>, xsize<span class="op">=</span><span class="va">ncols</span>, ysize<span class="op">=</span><span class="fl">1</span>, <span class="va">rowdata</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## re-open in read-only mode when done writing</span></span></span>
<span class="r-in"><span><span class="co">## this will ensure flushing of any pending writes (implicit $close)</span></span></span>
<span class="r-in"><span><span class="va">ds_new</span><span class="op">$</span><span class="fu">open</span><span class="op">(</span>read_only<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## getStatistics returns min, max, mean, sd, and sets stats in the metadata</span></span></span>
<span class="r-in"><span><span class="va">ds_new</span><span class="op">$</span><span class="fu">getStatistics</span><span class="op">(</span>band<span class="op">=</span><span class="fl">1</span>, approx_ok<span class="op">=</span><span class="cn">FALSE</span>, force<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0...10...20...30...40...50...60...70...80...90...100 - done.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]   0.00000 100.00000  49.90667  29.05491</span>
<span class="r-in"><span><span class="va">ds_new</span><span class="op">$</span><span class="fu">getMetadataItem</span><span class="op">(</span>band<span class="op">=</span><span class="fl">1</span>, <span class="st">"STATISTICS_MEAN"</span>, <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "49.906672766486"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## close the dataset for proper cleanup</span></span></span>
<span class="r-in"><span><span class="va">ds_new</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co">## using a GDAL Virtual File System handler '/vsicurl/'</span></span></span>
<span class="r-in"><span><span class="co">## see: https://gdal.org/user/virtual_file_systems.html</span></span></span>
<span class="r-in"><span><span class="va">url</span> <span class="op">&lt;-</span> <span class="st">"/vsicurl/https://raw.githubusercontent.com/"</span></span></span>
<span class="r-in"><span><span class="va">url</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">url</span>, <span class="st">"usdaforestservice/gdalraster/main/sample-data/"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">url</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">url</span>, <span class="st">"lf_elev_220_mt_hood_utm.tif"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALRaster</span>, <span class="va">url</span>, read_only<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot_raster.html">plot_raster</a></span><span class="op">(</span><span class="va">ds</span>, legend<span class="op">=</span><span class="cn">TRUE</span>, main<span class="op">=</span><span class="st">"Mount Hood elevation (m)"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="GDALRaster-class-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/ctoney" class="external-link">Chris Toney</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

