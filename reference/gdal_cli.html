<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Functions for using GDAL CLI algorithms — gdal_cli • gdalraster</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Functions for using GDAL CLI algorithms — gdal_cli"><meta name="description" content="This set of functions can be used to access and run gdal command line
interface (CLI) algorithms.
Requires GDAL &amp;gt;= 3.11.3
Experimental (see the section Development Status below)"><meta property="og:description" content="This set of functions can be used to access and run gdal command line
interface (CLI) algorithms.
Requires GDAL &amp;gt;= 3.11.3
Experimental (see the section Development Status below)"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gdalraster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2.1.9021</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/raster-api-tutorial.html">Raster API Tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/raster-display.html">Raster Display</a></li>
    <li><a class="dropdown-item" href="../articles/raster-attribute-tables.html">Raster Attribute Tables</a></li>
    <li><a class="dropdown-item" href="../articles/gdal-block-cache.html">GDAL Block Cache</a></li>
    <li><a class="dropdown-item" href="../articles/vector-api-overview.html">Vector API Overview</a></li>
    <li><a class="dropdown-item" href="../articles/vector-read-benchmarks.html">Vector Read Benchmarks</a></li>
    <li><a class="dropdown-item" href="../articles/gdal-config-quick-ref.html">GDAL Config Quick Reference</a></li>
    <li><a class="dropdown-item" href="../articles/use-gdal-cli-from-r.html">Using 'gdal' CLI algorithms from R</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Archived articles</h6></li>
    <li><a class="dropdown-item" href="../articles/gdalvector-draft.html">Draft Bindings to the GDAL/OGR Vector API</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USDAForestService/gdalraster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Functions for using GDAL CLI algorithms</h1>
      <small class="dont-index">Source: <a href="https://github.com/USDAForestService/gdalraster/blob/main/R/gdal_cli.R" class="external-link"><code>R/gdal_cli.R</code></a></small>
      <div class="d-none name"><code>gdal_cli.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This set of functions can be used to access and run <code>gdal</code> command line
interface (CLI) algorithms.</p>
<p><strong>Requires GDAL &gt;= 3.11.3</strong></p>
<p><strong>Experimental</strong> (see the section <code>Development Status</code> below)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gdal_commands</span><span class="op">(</span>contains <span class="op">=</span> <span class="cn">NULL</span>, recurse <span class="op">=</span> <span class="cn">TRUE</span>, cout <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gdal_usage</span><span class="op">(</span>cmd <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gdal_run</span><span class="op">(</span><span class="va">cmd</span>, <span class="va">args</span>, setVectorArgsFromObject <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gdal_alg</span><span class="op">(</span>cmd <span class="op">=</span> <span class="cn">NULL</span>, args <span class="op">=</span> <span class="cn">NULL</span>, parse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gdal_global_reg_names</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-contains">contains<a class="anchor" aria-label="anchor" href="#arg-contains"></a></dt>
<dd><p>Optional character string for filtering output to certain
commands, e.g., <code>gdal_commands("vector")</code>.</p></dd>


<dt id="arg-recurse">recurse<a class="anchor" aria-label="anchor" href="#arg-recurse"></a></dt>
<dd><p>Logical value, <code>TRUE</code> to include all subcommands recursively
(the default). Set to <code>FALSE</code> to include only the top-level <code>gdal</code> commands
(i.e., <code>raster</code>, <code>vector</code>, etc.)</p></dd>


<dt id="arg-cout">cout<a class="anchor" aria-label="anchor" href="#arg-cout"></a></dt>
<dd><p>Logical value, <code>TRUE</code> to print a list of commands along with
their descriptions and help URLS to the console (the default).</p></dd>


<dt id="arg-cmd">cmd<a class="anchor" aria-label="anchor" href="#arg-cmd"></a></dt>
<dd><p>A character string or character vector containing the path to the
algorithm, e.g., <code>"raster reproject"</code> or <code>c("raster", "reproject")</code>.
Defaults to <code>"gdal"</code>, the main entry point to CLI commands.</p></dd>


<dt id="arg-args">args<a class="anchor" aria-label="anchor" href="#arg-args"></a></dt>
<dd><p>Either a character vector or a named list containing input
arguments of the algorithm (see section <code>Algorithm Argument Syntax</code> below).</p></dd>


<dt id="arg-setvectorargsfromobject">setVectorArgsFromObject<a class="anchor" aria-label="anchor" href="#arg-setvectorargsfromobject"></a></dt>
<dd><p>Logical value, <code>TRUE</code> to set algorithm
arguments automatically when the <code>"input"</code> argument or the <code>"like"</code> argument
is an object of class <code>GDALVector</code> (the default). Can be set to <code>FALSE</code> to
disable automatically setting algorithm arguments from <code>GDALVector</code> input
(see Note).</p></dd>


<dt id="arg-parse">parse<a class="anchor" aria-label="anchor" href="#arg-parse"></a></dt>
<dd><p>Logical value, <code>TRUE</code> to attempt parsing <code>args</code> if they are
given in <code>gdal_alg()</code> (the default). Set to <code>FALSE</code> to instantiate the
algorithm without parsing arguments. The <code>$parseCommandLineArgs()</code>
method on the returned object can be called to parse arguments and obtain
the result of that, with potentially useful error messages.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>These functions provide an interface to GDAL CLI algorithms by way of the
C++ exposed class <code><a href="GDALAlg-class.html">GDALAlg</a></code>. See the class documentation for
additional information (<code><a href="GDALAlg-class.html">?GDALAlg</a></code>).</p>
<p><code>gdal_commands()</code> prints a list of commands and their descriptions to the
console, and returns (invisibly) a data frame with columns <code>command</code>,
<code>description</code>, <code>URL</code>. The <code>contains</code> argument can be used to filter the
output, e.g., <code>gdal_commands("vector")</code> to return only commands for working
with vector inputs.</p>
<p><code>gdal_usage()</code> prints a help message to the console for a given command, or
for the root <code>gdal</code> entry point if called with no argument. No return value,
called for that side effect only.</p>
<p><code>gdal_run()</code> executes a GDAL CLI algorithm and returns it as an object of
class <code><a href="GDALAlg-class.html">GDALAlg</a></code>. A list containing algorithm output(s) can be
accessed by calling the <code>$outputs()</code> method (plural) on the returned
object, or, more conveniently in most cases, by calling <code>$output()</code>
(singular) to return the the single output value when there is only one.
After assigning the output, or otherwise completing work with the <code>GDALAlg</code>
object, its <code>$release()</code> method can be called to close datasets and
free resources.</p>
<p><code>gdal_alg()</code> instantiates and returns an object of class <code><a href="GDALAlg-class.html">GDALAlg</a></code>
without running it. Passing argument values to the requested CLI algorithm is
optional. This function may be useful (with or without argument values) for
obtaining algorithm properties with the returned object's <code>$info()</code>
method, obtaining properties of algorithm arguments
(<code>$argInfo(arg_name)</code>), or obtaining algorithm usage as a
JSON-formatted string (<code>$usageAsJSON()</code>).
This function is simply an alternative to calling the <code>new()</code> constructor
for class <code>GDALAlg</code>. Executing the returned algorithm is optional by calling
the object's <code>$run()</code> method (assuming argument values were given).</p>
<p><code>gdal_global_reg_names()</code> returns a character vector containing the names of
the algorithms in the GDAL global algorithm registry. These are the
top-level nodes (<code>raster</code>, <code>vector</code>, etc.) known to GDAL. Potentially code
external to GDAL could register a new command available for CLI use in a
GDAL plugin. This function may be useful in certain troubleshooting
scenarios. It will return a vector of length zero if no names are returned
from the global registry.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Commands do not require the leading <code>"gdal"</code> root node. They may begin
with a top-level command (e.g., <code>"raster"</code>, <code>"vector"</code>, etc.).</p>
<p>When using argument names as the element names of a list, the underscore
character can be substituted for the dash characters that are used in some
names. This avoids having to surround names in backticks when they are used
to access list elements in the form <code>args$arg_name</code> (the form
<code>args[["arg-name"]]</code> also works).</p>
<p>When <code>setVectorArgsFromObject</code> is <code>TRUE</code> (the default) and the <code>"input"</code> or
<code>"like"</code> argument for an algorithm is given as a <code>GDALVector</code> object,
corresponding algorithm arguments will be set automatically based on
properties of the object (when the argument is available to the algorithm):</p><ul><li><p><code>"input-format"</code>: set to the <code>GDALVector</code> object's driver short name</p></li>
<li><p><code>"input-layer"</code>: set to the <code>GDALVector</code> layer name if it is not a SQL
layer</p></li>
<li><p><code>"sql"</code>: set to the SQL statement if the <code>GDALVector</code> layer is defined by
one</p></li>
<li><p><code>"dialect"</code>: set to the SQL dialect if one is specified for a SQL layer</p></li>
<li><p><code>"like-layer"</code>: set to the <code>GDALVector</code> layer name if it is not a SQL
layer</p></li>
<li><p><code>"like-sql"</code>: set to the SQL statement if the <code>GDALVector</code> layer is
defined by one</p></li>
</ul><p>Argument values specified explicitly will override the automatic setting (as
long as they result in a parsable set of arguments). If
<code>setVectorArgsFromObject</code> is <code>FALSE</code>, then only the vector dataset is passed
to the algorithm, i.e., without automatically passing any layer
specifications.</p>
    </div>
    <div class="section level2">
    <h2 id="algorithm-argument-syntax">Algorithm Argument Syntax<a class="anchor" aria-label="anchor" href="#algorithm-argument-syntax"></a></h2>


<p>Arguments are given in <span style="R">R</span> as a character vector or named list, but
otherwise syntax basically matches the GDAL specification for arguments as
they are given on the command line. Those specifications are listed here
along with some amendments regarding the character vector and named list
formats. Programmatic usage also allows passing and receiving datasets as
objects (i.e., <code>GDALRaster</code> or <code>GDALVector</code>), in addition to dataset names
(e.g., filename, URL, database connection string).</p><ul><li><p>Commands accept one or several positional arguments, typically for dataset
names (or in <span style="R">R</span> as <code>GDALRaster</code> or <code>GDALVector</code> datasets). The order is
input(s) first, output last. Positional arguments can also be specified as
named arguments, if preferred to avoid any ambiguity.</p></li>
<li><p>Named arguments have:</p><ul><li><p>at least one "long" name, preceded by two dash characters</p></li>
<li><p>optionally, auxiliary long names (i.e., aliases),</p></li>
<li><p>and optionally a one-letter short name, preceded by a single dash
character, e.g., <code>-f, --of, --format, --output-format &lt;OUTPUT-FORMAT&gt;</code></p></li>
</ul></li>
<li><p>Boolean arguments are specified by just specifying the argument name in
character vector format. In <span style="R">R</span> <code>list</code> format, the named element must be
assigned a value of logical <code>TRUE</code>.</p></li>
<li><p>Arguments that require a value are specified like:</p><ul><li><p><code>-f VALUE</code> for one-letter short names</p></li>
<li><p><code>--format VALUE</code> or <code>--format=VALUE</code> for long names</p></li>
<li><p>in a named list, this might look like: <code>args$format &lt;- VALUE</code></p></li>
</ul></li>
<li><p>Some arguments can be multi-valued. Some of them require all values to be
packed together and separated with comma. This is, e.g., the case of:<br><code>--bbox &lt;BBOX&gt; Clipping bounding box as xmin,ymin,xmax,ymax</code> <br>
e.g., <code>--bbox=2.1,49.1,2.9,49.9</code></p></li>
<li><p>Others accept each value to be preceded by a new mention of the argument
name, e.g., <code>c("--co", "COMPRESS=LZW", "--co", "TILED=YES")</code>. For that
one, if the value of the argument does not contain commas, the packed form
is also accepted: <code>--co COMPRESS=LZW,TILED=YES</code>. Note that repeated
mentions of an argument are possible in the character vector format for
argument input, whereas arguments given in named list format must use
argument long names as the list element names, and the packed format for the
values (which can be a character vector or numeric vector of values).</p></li>
<li><p>Named arguments can be placed before or after positional arguments.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="development-status">Development Status<a class="anchor" aria-label="anchor" href="#development-status"></a></h2>


<p>The GDAL Command Line Interface Modernization was first introduced in the
<a href="https://github.com/OSGeo/gdal/releases/tag/v3.11.0" class="external-link">GDAL 3.11.0 release</a>
(2025-05-09). The GDAL project provides warning that the new CLI "is
provisionally provided as an alternative interface to GDAL and OGR command
line utilities. The project reserves the right to modify, rename,
reorganize, and change the behavior until it is officially frozen via PSC
vote in a future major GDAL release. The utility needs time to mature,
benefit from incremental feedback, and explore enhancements without carrying
the burden of full backward compatibility. Your usage of it should have no
expectation of compatibility until that time."
(<a href="https://gdal.org/en/latest/programs/#gdal-application" class="external-link">https://gdal.org/en/latest/programs/#gdal-application</a>)</p>
<p>Initial bindings to enable programmatic use of the CLI algorithms from <span style="R">R</span>
were added in <span class="pkg">gdalraster</span> 2.2.0, and will evolve over future releases.
<em>The bindings are considered experimental until the upstream API is declared
stable</em>. Breaking changes in minor version releases are possible until then.
Please use with those cautions in mind. Bug reports may be filed at:
<a href="https://github.com/USDAForestService/gdalraster/issues" class="external-link">https://github.com/USDAForestService/gdalraster/issues</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="GDALAlg-class.html">GDALAlg-class</a></code></p>
<p><code>gdal</code> Command Line Interface (CLI) <br><a href="https://gdal.org/en/stable/programs/index.html" class="external-link">https://gdal.org/en/stable/programs/index.html</a></p>
<p>Using <code>gdal</code> CLI algorithms from R<br><a href="https://usdaforestservice.github.io/gdalraster/articles/use-gdal-cli-from-r.html">https://usdaforestservice.github.io/gdalraster/articles/use-gdal-cli-from-r.html</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># length(gdal_global_reg_names()) &gt; 0</span></span></span>
<span class="r-in"><span><span class="co">## top-level commands</span></span></span>
<span class="r-in"><span><span class="fu">gdal_commands</span><span class="op">(</span>recurse <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## convert storml_elev.tif to GeoPackage raster</span></span></span>
<span class="r-in"><span><span class="fu">gdal_commands</span><span class="op">(</span><span class="st">"convert"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">gdal_usage</span><span class="op">(</span><span class="st">"raster convert"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f_tif</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/storml_elev.tif"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f_gpkg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"storml_elev.gpkg"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">args</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"--overwrite"</span>, <span class="va">f_tif</span>, <span class="va">f_gpkg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">alg</span> <span class="op">&lt;-</span> <span class="fu">gdal_run</span><span class="op">(</span><span class="st">"raster convert"</span>, <span class="va">args</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="va">alg</span><span class="op">$</span><span class="fu">output</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">alg</span><span class="op">$</span><span class="fu">release</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot_raster.html">plot_raster</a></span><span class="op">(</span><span class="va">ds</span>, legend <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">f_gpkg</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## get help for vector commands</span></span></span>
<span class="r-in"><span><span class="fu">gdal_usage</span><span class="op">(</span><span class="st">"vector"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## clip a vector layer by a bounding box</span></span></span>
<span class="r-in"><span><span class="fu">gdal_usage</span><span class="op">(</span><span class="st">"vector clip"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ynp_fires_1984_2022.gpkg"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f_clip</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"ynp_fires_clip.gpkg"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># some multi-valued arguments require all values packed and comma separated</span></span></span>
<span class="r-in"><span><span class="co"># e.g., --bbox &lt;BBOX&gt;</span></span></span>
<span class="r-in"><span><span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">469686</span>, <span class="fl">11442</span>, <span class="fl">544070</span>, <span class="fl">85508</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">bb</span>, collapse <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">args</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"--bbox"</span>, <span class="va">bb</span>, <span class="st">"--overwrite"</span>, <span class="va">f</span>, <span class="va">f_clip</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">alg</span> <span class="op">&lt;-</span> <span class="fu">gdal_run</span><span class="op">(</span><span class="st">"vector clip"</span>, <span class="va">args</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">lyr</span> <span class="op">&lt;-</span> <span class="va">alg</span><span class="op">$</span><span class="fu">output</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lyr</span><span class="op">$</span><span class="fu">bbox</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lyr</span><span class="op">$</span><span class="fu">getFeatureCount</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lyr</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">alg</span><span class="op">$</span><span class="fu">release</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">f_clip</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## rasterize a vector layer and return output as a GDALRaster object</span></span></span>
<span class="r-in"><span><span class="fu">gdal_usage</span><span class="op">(</span><span class="st">"vector rasterize"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f_out</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"ynp_fire_year.tif"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># arguments in list format</span></span></span>
<span class="r-in"><span><span class="va">args</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">f</span>,</span></span>
<span class="r-in"><span>             sql <span class="op">=</span> <span class="st">"SELECT * FROM mtbs_perims ORDER BY ig_year"</span>,</span></span>
<span class="r-in"><span>             attribute_name <span class="op">=</span> <span class="st">"ig_year"</span>,</span></span>
<span class="r-in"><span>             output <span class="op">=</span> <span class="va">f_out</span>,</span></span>
<span class="r-in"><span>             overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>             creation_option <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TILED=YES"</span>, <span class="st">"COMPRESS=DEFLATE"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>             resolution <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">90</span>, <span class="fl">90</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>             output_data_type <span class="op">=</span> <span class="st">"Int16"</span>,</span></span>
<span class="r-in"><span>             init <span class="op">=</span> <span class="op">-</span><span class="fl">32767</span>,</span></span>
<span class="r-in"><span>             nodata <span class="op">=</span> <span class="op">-</span><span class="fl">32767</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">alg</span> <span class="op">&lt;-</span> <span class="fu">gdal_run</span><span class="op">(</span><span class="st">"vector rasterize"</span>, <span class="va">args</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="va">alg</span><span class="op">$</span><span class="fu">output</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">alg</span><span class="op">$</span><span class="fu">release</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pal</span> <span class="op">&lt;-</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_viridis.html" class="external-link">viridis_pal</a></span><span class="op">(</span>end <span class="op">=</span> <span class="fl">0.8</span>, direction <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ramp</span> <span class="op">&lt;-</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/colour_ramp.html" class="external-link">colour_ramp</a></span><span class="op">(</span><span class="va">pal</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot_raster.html">plot_raster</a></span><span class="op">(</span><span class="va">ds</span>, legend <span class="op">=</span> <span class="cn">TRUE</span>, col_map_fn <span class="op">=</span> <span class="va">ramp</span>, na_col <span class="op">=</span> <span class="st">"#d9d9d9"</span>,</span></span>
<span class="r-in"><span>            main <span class="op">=</span> <span class="st">"YNP Fires 1984-2022 - Most Recent Burn Year"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="deleteDataset.html">deleteDataset</a></span><span class="op">(</span><span class="va">f_out</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## pipeline syntax</span></span></span>
<span class="r-in"><span><span class="co"># "raster pipeline" example 2 from:</span></span></span>
<span class="r-in"><span><span class="co"># https://gdal.org/en/latest/programs/gdal_raster_pipeline.html</span></span></span>
<span class="r-in"><span><span class="co"># serialize the command to reproject a GTiff file into GDALG format, and</span></span></span>
<span class="r-in"><span><span class="co"># then later read the GDALG file</span></span></span>
<span class="r-in"><span><span class="co"># GDAL Streamed Algorithm format:</span></span></span>
<span class="r-in"><span><span class="co"># https://gdal.org/en/stable/drivers/raster/gdalg.html</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">gdal_usage</span><span class="op">(</span><span class="st">"raster pipeline"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f_tif</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/storml_elev.tif"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"storml_elev_epsg_32100.gdalg.json"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">args</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"read"</span>, <span class="st">"--input"</span>, <span class="va">f_tif</span>, <span class="st">"!"</span>,</span></span>
<span class="r-in"><span>          <span class="st">"reproject"</span>, <span class="st">"--dst-crs=EPSG:32100"</span>, <span class="st">"!"</span>,</span></span>
<span class="r-in"><span>          <span class="st">"write"</span>, <span class="st">"--output"</span>, <span class="va">f_out</span>, <span class="st">"--overwrite"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">alg</span> <span class="op">&lt;-</span> <span class="fu">gdal_run</span><span class="op">(</span><span class="st">"raster pipeline"</span>, <span class="va">args</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">alg</span><span class="op">$</span><span class="fu">release</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># content of the .gdalg.json file</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">f_out</span>, warn <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALRaster</span>, <span class="va">f_out</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot_raster.html">plot_raster</a></span><span class="op">(</span><span class="va">ds</span>, legend <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">f_out</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/ctoney" class="external-link">Chris Toney</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

