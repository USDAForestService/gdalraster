<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Display raster data — plot_raster • gdalraster</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Display raster data — plot_raster"><meta name="description" content="plot_raster() displays raster data using base graphics."><meta property="og:description" content="plot_raster() displays raster data using base graphics."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gdalraster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.12.0.9100</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/gdal-block-cache.html">GDAL Block Cache</a></li>
    <li><a class="dropdown-item" href="../articles/gdal-config-quick-ref.html">GDAL Config Quick Reference</a></li>
    <li><a class="dropdown-item" href="../articles/gdalvector-draft.html">Draft Bindings to the GDAL/OGR Vector API</a></li>
    <li><a class="dropdown-item" href="../articles/raster-api-tutorial.html">Raster API Tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/raster-attribute-tables.html">Raster Attribute Tables</a></li>
    <li><a class="dropdown-item" href="../articles/raster-display.html">Raster Display</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USDAForestService/gdalraster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Display raster data</h1>
      <small class="dont-index">Source: <a href="https://github.com/USDAForestService/gdalraster/blob/main/R/display.R" class="external-link"><code>R/display.R</code></a></small>
      <div class="d-none name"><code>plot_raster.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>plot_raster()</code> displays raster data using base <code>graphics</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_raster</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  xsize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ysize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nbands <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_pixels <span class="op">=</span> <span class="fl">2.5e+07</span>,</span>
<span>  col_tbl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxColorValue <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  normalize <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  minmax_def <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  minmax_pct_cut <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  col_map_fn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pixel_fn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interpolate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  asp <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  axes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  main <span class="op">=</span> <span class="st">""</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>  xaxs <span class="op">=</span> <span class="st">"i"</span>,</span>
<span>  yaxs <span class="op">=</span> <span class="st">"i"</span>,</span>
<span>  legend <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  na_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>Either a <code>GDALRaster</code> object from which data will be read, or
a numeric vector of pixel values arranged in left to right, top to
bottom order, or a list of band vectors. If input is vector or list,
the information in attribute <code>gis</code> will be used if present (see <code><a href="read_ds.html">read_ds()</a></code>),
potentially ignoring values below for <code>xsize</code>, <code>ysize</code>, <code>nbands</code>.</p></dd>


<dt id="arg-xsize">xsize<a class="anchor" aria-label="anchor" href="#arg-xsize"></a></dt>
<dd><p>The number of pixels along the x dimension in <code>data</code>. If <code>data</code>
is a <code>GDALRaster</code> object, specifies the size at which the raster will be
read (used for argument <code>out_xsize</code> in <code>GDALRaster$read()</code>). By default,
the entire raster will be read at full resolution.</p></dd>


<dt id="arg-ysize">ysize<a class="anchor" aria-label="anchor" href="#arg-ysize"></a></dt>
<dd><p>The number of pixels along the y dimension in <code>data</code>. If <code>data</code>
is a <code>GDALRaster</code> object, specifies the size at which the raster will be
read (used for argument <code>out_ysize</code> in <code>GDALRaster$read()</code>). By default,
the entire raster will be read at full resolution.</p></dd>


<dt id="arg-nbands">nbands<a class="anchor" aria-label="anchor" href="#arg-nbands"></a></dt>
<dd><p>The number of bands in <code>data</code>. Must be either 1 (grayscale) or
3 (RGB). For RGB, <code>data</code> are interleaved by band. If <code>nbands</code> is <code>NULL</code> (the
default), then <code>nbands = 3</code> is assumed if the input data contain 3 bands,
otherwise band 1 is used.</p></dd>


<dt id="arg-max-pixels">max_pixels<a class="anchor" aria-label="anchor" href="#arg-max-pixels"></a></dt>
<dd><p>The maximum number of pixels that the function will
attempt to display (per band). An error is raised if <code>(xsize * ysize)</code>
exceeds this value. Setting to <code>NULL</code> turns off this check.</p></dd>


<dt id="arg-col-tbl">col_tbl<a class="anchor" aria-label="anchor" href="#arg-col-tbl"></a></dt>
<dd><p>A color table as a matrix or data frame with four or five
columns. Column 1 contains the numeric pixel values. Columns 2:4 contain
the intensities of the red, green and blue primaries (<code>0:1</code> by default,
or use integer <code>0:255</code> by setting <code>maxColorValue = 255</code>).
An optional column 5 may contain alpha transparency values, <code>0</code> for fully
transparent to <code>1</code> (or <code>maxColorValue</code>) for opaque (the default if column 5
is missing). If <code>data</code> is a <code>GDALRaster</code> object, a built-in color table will
be used automatically if one exists in the dataset.</p></dd>


<dt id="arg-maxcolorvalue">maxColorValue<a class="anchor" aria-label="anchor" href="#arg-maxcolorvalue"></a></dt>
<dd><p>A number giving the maximum of the color values range
in <code>col_tbl</code> (see above). The default is <code>1</code>.</p></dd>


<dt id="arg-normalize">normalize<a class="anchor" aria-label="anchor" href="#arg-normalize"></a></dt>
<dd><p>Logical. <code>TRUE</code> to rescale pixel values so that their
range is <code>[0,1]</code>, normalized to the full range of the pixel data by default
(<code>min(data)</code>, <code>max(data)</code>, per band). Ignored if <code>col_tbl</code> is used.
Set <code>normalize</code> to <code>FALSE</code> if a color map function is used that
operates on raw pixel values (see <code>col_map_fn</code> below).</p></dd>


<dt id="arg-minmax-def">minmax_def<a class="anchor" aria-label="anchor" href="#arg-minmax-def"></a></dt>
<dd><p>Normalize to user-defined min/max values (in terms of
the pixel data, per band). For single-band grayscale, a numeric vector of
length two containing min, max. For 3-band RGB, a numeric vector of length
six containing b1_min, b2_min, b3_min, b1_max, b2_max, b3_max.</p></dd>


<dt id="arg-minmax-pct-cut">minmax_pct_cut<a class="anchor" aria-label="anchor" href="#arg-minmax-pct-cut"></a></dt>
<dd><p>Normalize to a truncated range of the pixel data using
percentile cutoffs (removes outliers). A numeric vector of length two giving
the percentiles to use (e.g., <code>c(2, 98)</code>). Applied per band. Ignored if
<code>minmax_def</code> is used.</p></dd>


<dt id="arg-col-map-fn">col_map_fn<a class="anchor" aria-label="anchor" href="#arg-col-map-fn"></a></dt>
<dd><p>An optional color map function (default is
<code><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">grDevices::gray</a></code> for single-band data or <code><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">grDevices::rgb</a></code> for 3-band).
Ignored if <code>col_tbl</code> is used. Set <code>normalize</code> to <code>FALSE</code> if using a color
map function that operates on raw pixel values.</p></dd>


<dt id="arg-pixel-fn">pixel_fn<a class="anchor" aria-label="anchor" href="#arg-pixel-fn"></a></dt>
<dd><p>An optional function that will be applied to the input
pixel data. Must accept vector input and return a numeric vector of the same
length as its input.</p></dd>


<dt id="arg-xlim">xlim<a class="anchor" aria-label="anchor" href="#arg-xlim"></a></dt>
<dd><p>Numeric vector of length two giving the x coordinate range.
If <code>data</code> is a <code>GDALRaster</code> object, the default is the raster xmin, xmax in
georeferenced coordinates, otherwise the default uses pixel/line
coordinates (<code>c(0, xsize)</code>).</p></dd>


<dt id="arg-ylim">ylim<a class="anchor" aria-label="anchor" href="#arg-ylim"></a></dt>
<dd><p>Numeric vector of length two giving the y coordinate range.
If <code>data</code> is a <code>GDALRaster</code> object, the default is the raster ymin, ymax in
georeferenced coordinates, otherwise the default uses pixel/line
coordinates (<code>c(ysize, 0)</code>).</p></dd>


<dt id="arg-interpolate">interpolate<a class="anchor" aria-label="anchor" href="#arg-interpolate"></a></dt>
<dd><p>Logical indicating whether to apply linear interpolation
to the image when drawing (default <code>TRUE</code>).</p></dd>


<dt id="arg-asp">asp<a class="anchor" aria-label="anchor" href="#arg-asp"></a></dt>
<dd><p>Numeric. The aspect ratio y/x (see <code><a href="https://rdrr.io/r/graphics/plot.window.html" class="external-link">?plot.window</a></code>).</p></dd>


<dt id="arg-axes">axes<a class="anchor" aria-label="anchor" href="#arg-axes"></a></dt>
<dd><p>Logical. <code>TRUE</code> to draw axes (the default).</p></dd>


<dt id="arg-main">main<a class="anchor" aria-label="anchor" href="#arg-main"></a></dt>
<dd><p>The main title (on top).</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>Title for the x axis (see <code><a href="https://rdrr.io/r/graphics/title.html" class="external-link">?title</a></code>).</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>Title for the y axis (see <code><a href="https://rdrr.io/r/graphics/title.html" class="external-link">?title</a></code>).</p></dd>


<dt id="arg-xaxs">xaxs<a class="anchor" aria-label="anchor" href="#arg-xaxs"></a></dt>
<dd><p>The style of axis interval calculation to be used for the x axis
(see <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">?par</a></code>).</p></dd>


<dt id="arg-yaxs">yaxs<a class="anchor" aria-label="anchor" href="#arg-yaxs"></a></dt>
<dd><p>The style of axis interval calculation to be used for the y axis
(see <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">?par</a></code>).</p></dd>


<dt id="arg-legend">legend<a class="anchor" aria-label="anchor" href="#arg-legend"></a></dt>
<dd><p>Logical indicating whether to include a legend on the plot.
Currently, legends are only supported for continuous data. A color table
will be used if one is specified or the raster has a built-in color table,
otherwise the value for <code>col_map_fn</code> will be used.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>The number of digits to display after the decimal point in
the legend labels when raster data are floating point.</p></dd>


<dt id="arg-na-col">na_col<a class="anchor" aria-label="anchor" href="#arg-na-col"></a></dt>
<dd><p>Color to use for <code>NA</code> as a 7- or 9-character hexadecimal code.
The default is transparent (<code>"#00000000"</code>, the return value of
<code>rgb(0,0,0,0)</code>).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other parameters to be passed to <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot.default()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>By default, contrast enhancement by stretch to min/max is applied when
the input data are single-band grayscale with any raster data type, or
three-band RGB with raster data type larger than Byte. The minimum/maximum
of the input data are used by default (i.e., no outlier removal). No stretch
is applied by default when the input is an RGB byte raster. These defaults
can be overridden by specifying either the <code>minmax_def</code> argument
(user-defined min/max per band), or the <code>minmax_pct_cut</code> argument (ignore
outlier pixels based on a percentile range per band). These settings (and
the <code>normalize</code> argument) are ignored if a color table is used.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p><code>plot_raster()</code> uses the function <code><a href="https://rdrr.io/r/graphics/rasterImage.html" class="external-link">graphics::rasterImage()</a></code> for plotting
which is not supported on some devices (see <code><a href="https://rdrr.io/r/graphics/rasterImage.html" class="external-link">?rasterImage</a></code>).</p>
<p>If <code>data</code> is an object of class <code>GDALRaster</code>, then <code>plot_raster()</code> will
attempt to read the entire raster into memory by default (unless the number
of pixels per band would exceed <code>max_pixels</code>).
A reduced resolution overview can be read by setting <code>xsize</code>, <code>ysize</code>
smaller than the raster size on disk.
(If <code>data</code> is instead specified as a vector of pixel values, a reduced
resolution overview would be read by setting <code>out_xsize</code> and <code>out_ysize</code>
smaller than the raster region defined by <code>xsize</code>, <code>ysize</code> in a call to
<code>GDALRaster$read()</code>).
The GDAL_RASTERIO_RESAMPLING configuration option can be
defined to override the default resampling (NEAREST) to one of BILINEAR,
CUBIC, CUBICSPLINE, LANCZOS, AVERAGE or MODE, for example:</p><div class="sourceCode"><pre><code><span></span>
<span><span class="fu"><a href="../reference/set_config_option.html">set_config_option</a></span><span class="op">(</span><span class="st">"GDAL_RASTERIO_RESAMPLING"</span>, <span class="st">"BILINEAR"</span><span class="op">)</span></span></code></pre></div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="GDALRaster-class.html">GDALRaster$read()</a></code>, <code><a href="read_ds.html">read_ds()</a></code>, <code><a href="set_config_option.html">set_config_option()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Elevation</span></span></span>
<span class="r-in"><span><span class="va">elev_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/storml_elev.tif"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALRaster</span>, <span class="va">elev_file</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># all other arguments are optional when passing a GDALRaster object</span></span></span>
<span class="r-in"><span><span class="co"># grayscale</span></span></span>
<span class="r-in"><span><span class="fu">plot_raster</span><span class="op">(</span><span class="va">ds</span>, legend <span class="op">=</span> <span class="cn">TRUE</span>, main <span class="op">=</span> <span class="st">"Storm Lake elevation (m)"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_raster-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># color ramp from user-defined palette</span></span></span>
<span class="r-in"><span><span class="va">elev_pal</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#00A60E"</span>,<span class="st">"#63C600"</span>,<span class="st">"#E6E600"</span>,<span class="st">"#E9BD3B"</span>,</span></span>
<span class="r-in"><span>              <span class="st">"#ECB176"</span>,<span class="st">"#EFC2B3"</span>,<span class="st">"#F2F2F2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ramp</span> <span class="op">&lt;-</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/colour_ramp.html" class="external-link">colour_ramp</a></span><span class="op">(</span><span class="va">elev_pal</span>, alpha <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_raster</span><span class="op">(</span><span class="va">ds</span>, col_map_fn <span class="op">=</span> <span class="va">ramp</span>, legend <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>            main <span class="op">=</span> <span class="st">"Storm Lake elevation (m)"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_raster-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Landsat band combination</span></span></span>
<span class="r-in"><span><span class="va">b4_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/sr_b4_20200829.tif"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">b5_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/sr_b5_20200829.tif"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">b6_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/sr_b6_20200829.tif"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">band_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">b6_file</span>, <span class="va">b5_file</span>, <span class="va">b4_file</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">vrt_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"storml_b6_b5_b4.vrt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="buildVRT.html">buildVRT</a></span><span class="op">(</span><span class="va">vrt_file</span>, <span class="va">band_files</span>, cl_arg <span class="op">=</span> <span class="st">"-separate"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0...10...20...30...40...50...60...70...80...90...100 - done.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALRaster</span>, <span class="va">vrt_file</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">plot_raster</span><span class="op">(</span><span class="va">ds</span>, main <span class="op">=</span> <span class="st">"Landsat 6-5-4 (vegetative analysis)"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_raster-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## LANDFIRE Existing Vegetation Cover (EVC) with color map</span></span></span>
<span class="r-in"><span><span class="va">evc_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/storml_evc.tif"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># colors from the CSV attribute table distributed by LANDFIRE</span></span></span>
<span class="r-in"><span><span class="va">evc_csv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/LF20_EVC_220.csv"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">vat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">evc_csv</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">vat</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   VALUE                        CLASSNAMES   R   G   B      RED    GREEN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -9999                       Fill-NoData 255 255 255 1.000000 1.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    11                        Open Water   0   0 255 0.000000 0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    12                          Snow/Ice 159 161 240 0.623529 0.631373</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    13 Developed-Upland Deciduous Forest  64  61 168 0.250980 0.239216</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    14 Developed-Upland Evergreen Forest  68  79 137 0.266667 0.309804</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    15     Developed-Upland Mixed Forest 102 119 205 0.400000 0.466667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       BLUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.941176</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.658824</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0.537255</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 0.803922</span>
<span class="r-in"><span><span class="va">vat</span> <span class="op">&lt;-</span> <span class="va">vat</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">6</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALRaster</span>, <span class="va">evc_file</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_raster</span><span class="op">(</span><span class="va">ds</span>, col_tbl <span class="op">=</span> <span class="va">vat</span>, interpolate <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>            main <span class="op">=</span> <span class="st">"Storm Lake LANDFIRE EVC"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_raster-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Apply a pixel function</span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/complex.tif"</span>, package<span class="op">=</span><span class="st">"gdalraster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="va">GDALRaster</span>, <span class="va">f</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">getDataTypeName</span><span class="op">(</span>band <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>  <span class="co"># complex floating point</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "CFloat32"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ramp</span> <span class="op">&lt;-</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/colour_ramp.html" class="external-link">colour_ramp</a></span><span class="op">(</span><span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_viridis.html" class="external-link">pal_viridis</a></span><span class="op">(</span>option <span class="op">=</span> <span class="st">"plasma"</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                            alpha <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">plot_raster</span><span class="op">(</span><span class="va">ds</span>, pixel_fn <span class="op">=</span> <span class="va">Arg</span>, col_map_fn <span class="op">=</span> <span class="va">ramp</span>, interpolate <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>            legend <span class="op">=</span> <span class="cn">TRUE</span>, main <span class="op">=</span> <span class="st">"Arg(complex.tif)"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_raster-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/ctoney" class="external-link">Chris Toney</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

